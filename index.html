<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS Digital — Технологичная веб-студия | Разработка сайтов, AI-интеграции</title>
    <meta name="description" content="NEXUS Digital — веб-студия полного цикла. Разработка сайтов, мобильных приложений, Telegram-ботов, AI-интеграции. Современный стек, прозрачные цены, запуск от 3 дней.">
    <link rel="canonical" href="https://nexus-digital-lovat.vercel.app/">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#6366f1">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="NEXUS Digital">
    <meta property="og:title" content="NEXUS Digital — Технологичная веб-студия">
    <meta property="og:description" content="Разработка сайтов, мобильных приложений, Telegram-ботов и AI-интеграции. Современный стек, прозрачные цены, запуск от 3 дней.">
    <meta property="og:url" content="https://nexus-digital-lovat.vercel.app/">
    <meta property="og:image" content="https://nexus-digital-lovat.vercel.app/og-image.png">
    <meta property="og:locale" content="ru_RU">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NEXUS Digital — Технологичная веб-студия">
    <meta name="twitter:description" content="Разработка сайтов, мобильных приложений, Telegram-ботов и AI-интеграции. Современный стек, прозрачные цены.">
    <meta name="twitter:image" content="https://nexus-digital-lovat.vercel.app/og-image.png">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "Organization",
                "name": "NEXUS Digital",
                "url": "https://nexus-digital-lovat.vercel.app",
                "description": "Технологичная веб-студия полного цикла",
                "email": "nikita.alandarenko@gmail.com",
                "contactPoint": {
                    "@type": "ContactPoint",
                    "contactType": "customer service",
                    "availableLanguage": "Russian"
                },
                "sameAs": ["https://t.me/myway_nikita"]
            },
            {
                "@type": "WebSite",
                "name": "NEXUS Digital",
                "url": "https://nexus-digital-lovat.vercel.app"
            },
            {
                "@type": "Service",
                "serviceType": "Веб-разработка",
                "provider": {
                    "@type": "Organization",
                    "name": "NEXUS Digital"
                },
                "areaServed": {
                    "@type": "Country",
                    "name": "Russia"
                },
                "offers": {
                    "@type": "AggregateOffer",
                    "priceCurrency": "RUB",
                    "lowPrice": "15000",
                    "highPrice": "600000"
                }
            },
            {
                "@type": "FAQPage",
                "mainEntity": [
                    {
                        "@type": "Question",
                        "name": "Как начать работу с вами?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Оставьте заявку или напишите в Telegram. Мы обсудим задачу, составим ТЗ и смету. Старт работы — от 3 дней после согласования."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Сколько времени занимает разработка сайта?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Лендинг — 3–7 дней, корпоративный сайт — 2–6 недель, интернет-магазин — 1–3 месяца. Точные сроки после обсуждения проекта."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Что нужно от клиента для начала?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Заполненный бриф (есть на сайте), доступ к домену и хостингу (если есть), контент (тексты, логотип). Если контента нет — поможем с копирайтингом."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Как происходит оплата?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Поэтапно: 50% предоплата, 50% после сдачи проекта. Для крупных проектов — оплата помесячно по спринтам. Работаем по договору."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Что если результат не устроит?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Каждый этап согласовывается. Правки включены в стоимость. Если не можем договориться — возвращаем предоплату за невыполненный объём."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Есть ли скрытые доплаты?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Нет. Фиксированная смета утверждается до начала работ. Дополнительные работы — только по вашему запросу с отдельным согласованием."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Какие технологии вы используете?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "React, Vue, Node.js, Python, Flutter для мобильных. Для AI — YandexGPT, GigaChat. Российский стек: 1С-Битрикс, Yandex.Cloud."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Кто владеет кодом и доменом?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Вы. После сдачи проекта все исходники, доступы, домен и хостинг передаются клиенту. Никакой привязки к нам."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Что происходит после запуска?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Гарантийная поддержка 1 месяц бесплатно. Далее — тариф на обслуживание от 5 000 ₽/мес: мониторинг, обновления, правки, бэкапы."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Как быстро вы реагируете на проблемы?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "SLA от 1 часа для критических инцидентов. Мониторинг 24/7. Связь через Telegram — ответ в течение 30 минут в рабочее время."
                        }
                    }
                ]
            }
        ]
    }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZhrib2Bg-4.woff2" as="font" type="font/woff2" crossorigin>
    <style>*{margin:0;padding:0;box-sizing:border-box}:root{--bg-primary:#0a0a0f;--bg-secondary:#12121a;--bg-card:#1a1a25;--accent:#6366f1;--accent-light:#818cf8;--text-primary:#f1f1f4;--text-secondary:#9ca3af;--text-muted:#7c8595;--border:#2a2a3a;--gradient-1:linear-gradient(135deg,#6366f1,#8b5cf6);--gradient-2:linear-gradient(135deg,#6366f1,#06b6d4)}html{scroll-behavior:smooth;overflow-x:hidden}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6;overflow-x:hidden}nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:20px 40px;display:flex;justify-content:space-between;align-items:center;background:rgba(10,10,15,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}.logo{font-size:22px;font-weight:800;letter-spacing:-0.5px;background:var(--gradient-1);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-decoration:none}.preloader{position:fixed;inset:0;z-index:9999;background:var(--bg-primary);display:flex;align-items:center;justify-content:center}</style>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap">

    <!-- Prefetch subpages -->
    <link rel="prefetch" href="/market.html">
    <link rel="prefetch" href="/trends.html">
    <link rel="prefetch" href="/tech.html">
    <link rel="prefetch" href="/privacy.html">

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106813146', 'ym');
    ym(106813146, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/106813146" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</head>
<body>

    <div id="preloader" class="preloader" aria-hidden="true">
        <div class="preloader-logo">
            <span class="preloader-n">N</span>
            <span class="preloader-text">NEXUS Digital</span>
        </div>
    </div>
    <script>if(sessionStorage.getItem('nexus_loaded'))document.getElementById('preloader').style.display='none';</script>

    <a href="#main-content" class="skip-nav">Перейти к содержимому</a>

    <nav>
        <a href="#" class="logo" onclick="event.preventDefault();window.scrollTo({top:0,behavior:'smooth'})">NEXUS Digital</a>
        <ul class="nav-links">
            <li><a href="#services">Услуги</a></li>
            <li><a href="#pricing">Цены</a></li>
            <li><a href="#advantages">Преимущества</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="#contact">Контакты</a></li>
            <li><a href="#contact" class="nav-cta" role="button" onclick="event.preventDefault();openBrief()">Оставить заявку</a></li>
        </ul>
        <button class="burger" onclick="toggleMenu()" aria-label="Меню">
            <span></span><span></span><span></span>
        </button>
    </nav>

    <div class="mobile-menu" id="mobileMenu">
        <a href="#services" onclick="closeMenu()">Услуги</a>
        <a href="#pricing" onclick="closeMenu()">Цены</a>
        <a href="#advantages" onclick="closeMenu()">Преимущества</a>
        <a href="#faq" onclick="closeMenu()">FAQ</a>
        <a href="#contact" onclick="closeMenu()">Контакты</a>
        <button class="nav-cta" onclick="closeMenu();openBrief()">Оставить заявку</button>
    </div>
    <div class="mobile-overlay" id="mobileOverlay" onclick="closeMenu()"></div>

    <main id="main-content">

    <section class="hero">
        <div class="section-label">Технологичная студия разработки</div>
        <h1 class="hero-title">
            Создаём <span class="highlight">цифровые<br>продукты</span> с AI
        </h1>
        <p class="hero-subtitle">
            Сайты, мобильные приложения, Telegram-боты и AI-интеграции. Полный цикл разработки: от дизайна до запуска. Современный стек, российские технологии.
        </p>
        <button class="hero-cta" onclick="openBrief()">Оставить заявку</button>
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number">3 дня</div>
                <div class="stat-label">старт работы после брифа</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">90+</div>
                <div class="stat-label">PageSpeed из коробки</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">24/7</div>
                <div class="stat-label">поддержка и мониторинг</div>
            </div>
        </div>
    </section>

    <hr class="section-divider">

    <section id="services" class="fade-in">
        <div class="section-label">Услуги</div>
        <h2 class="section-title">Что мы делаем</h2>
        <p class="section-subtitle">
            Сайты, приложения, боты, AI. Полный цикл: от концепции и дизайна до разработки, запуска и поддержки.
        </p>

        <div class="services-grid">
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">01</div>
                    <h3>Веб-разработка</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Лендинги, корпоративные сайты, интернет-магазины, веб-приложения. Чистый код, быстрая загрузка, адаптивный дизайн. Работаем на российских CMS и современных фреймворках.</p>
                    <div class="service-tags">
                        <span class="tag">Лендинги</span>
                        <span class="tag">Корпоративные сайты</span>
                        <span class="tag">E-commerce</span>
                        <span class="tag">Порталы</span>
                        <span class="tag">SaaS</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">02</div>
                    <h3>UI/UX Дизайн</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Исследование аудитории, прототипирование, визуальный дизайн. Создаём интерфейсы, которые конвертируют посетителей в клиентов. UX-аудит существующих сайтов.</p>
                    <div class="service-tags">
                        <span class="tag">UX-исследования</span>
                        <span class="tag">Прототипы</span>
                        <span class="tag">UI-дизайн</span>
                        <span class="tag">Дизайн-системы</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">03</div>
                    <h3>AI-интеграции</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Внедряем искусственный интеллект: чат-боты на YandexGPT/GigaChat, рекомендательные системы, автоматизация контента, персонализация UX, AI-аналитика.</p>
                    <div class="service-tags">
                        <span class="tag">Чат-боты</span>
                        <span class="tag">YandexGPT</span>
                        <span class="tag">GigaChat</span>
                        <span class="tag">Автоматизация</span>
                        <span class="tag">Рекомендации</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">04</div>
                    <h3>Мобильные приложения</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>iOS и Android приложения на React Native и Flutter. Кроссплатформенная разработка — один код для двух платформ. Публикация в App Store и Google Play.</p>
                    <div class="service-tags">
                        <span class="tag">iOS</span>
                        <span class="tag">Android</span>
                        <span class="tag">React Native</span>
                        <span class="tag">Flutter</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">05</div>
                    <h3>Telegram и чат-боты</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Боты для Telegram, WhatsApp, ВКонтакте. Автоматизация продаж, приём заявок, рассылки, интеграция с CRM. Умные боты на базе AI.</p>
                    <div class="service-tags">
                        <span class="tag">Telegram</span>
                        <span class="tag">WhatsApp</span>
                        <span class="tag">ВКонтакте</span>
                        <span class="tag">AI-боты</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">06</div>
                    <h3>SEO и маркетинг</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Поисковая оптимизация для Яндекс и Google, контекстная реклама, аналитика, конверсионная оптимизация. Стратегия продвижения с измеримыми результатами.</p>
                    <div class="service-tags">
                        <span class="tag">SEO</span>
                        <span class="tag">Яндекс.Директ</span>
                        <span class="tag">Аналитика</span>
                        <span class="tag">CRO</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">07</div>
                    <h3>Поддержка и развитие</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Техническая поддержка, обновления безопасности, мониторинг работоспособности, доработки функциональности. Быстрая реакция на инциденты, регулярные отчёты.</p>
                    <div class="service-tags">
                        <span class="tag">Мониторинг</span>
                        <span class="tag">Обновления</span>
                        <span class="tag">SLA</span>
                        <span class="tag">Хостинг</span>
                    </div>
                </div>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="toggleService(this)" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleService(this)}">
                <div class="svc-header">
                    <div class="service-icon">08</div>
                    <h3>Импортозамещение</h3>
                    <svg class="svc-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="svc-body">
                    <p>Миграция с западных платформ на российские аналоги: с WordPress на 1С-Битрикс, с AWS на Yandex.Cloud, переход на отечественные CRM и инструменты.</p>
                    <div class="service-tags">
                        <span class="tag">1С-Битрикс</span>
                        <span class="tag">Yandex.Cloud</span>
                        <span class="tag">Миграция</span>
                        <span class="tag">Битрикс24</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <hr class="section-divider">

    <section id="pricing" class="fade-in">
        <div class="section-label">Стоимость</div>
        <h2 class="section-title">Прозрачные цены</h2>
        <p class="section-subtitle">
            Фиксированная стоимость или оплата по часам. Точная смета формируется после обсуждения проекта.
        </p>

        <div class="pricing-table">
            <div class="pricing-header">
                <div>Услуга</div>
                <div>Стартовая цена</div>
                <div>Премиум</div>
                <div>Сроки</div>
            </div>

            <div class="pricing-row">
                <div class="service-name">Лендинг</div>
                <div class="price">от 40 000 ₽</div>
                <div class="price">до 150 000 ₽</div>
                <div class="timeline">3-7 дней</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Корпоративный сайт</div>
                <div class="price">от 100 000 ₽</div>
                <div class="price">до 800 000 ₽</div>
                <div class="timeline">2-6 нед.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Интернет-магазин</div>
                <div class="price">от 150 000 ₽</div>
                <div class="price">до 2 500 000 ₽</div>
                <div class="timeline">1-3 мес.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Веб-приложение / SaaS</div>
                <div class="price">от 400 000 ₽</div>
                <div class="price">до 5 000 000 ₽</div>
                <div class="timeline">1.5-6 мес.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Мобильное приложение</div>
                <div class="price">от 300 000 ₽</div>
                <div class="price">до 5 000 000 ₽</div>
                <div class="timeline">2-6 мес.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Telegram / чат-бот</div>
                <div class="price">от 25 000 ₽</div>
                <div class="price">до 300 000 ₽</div>
                <div class="timeline">1-4 нед.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">UI/UX Дизайн</div>
                <div class="price">от 25 000 ₽</div>
                <div class="price">до 400 000 ₽</div>
                <div class="timeline">3 дня — 4 нед.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">SEO-продвижение</div>
                <div class="price">от 15 000 ₽/мес</div>
                <div class="price">до 80 000 ₽/мес</div>
                <div class="timeline">от 2 мес.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">AI-интеграция (чат-бот)</div>
                <div class="price">от 35 000 ₽</div>
                <div class="price">до 500 000 ₽</div>
                <div class="timeline">1-4 нед.</div>
            </div>
            <div class="pricing-row">
                <div class="service-name">Поддержка и обслуживание</div>
                <div class="price">от 5 000 ₽</div>
                <div class="price">до 100 000 ₽/мес</div>
                <div class="timeline">постоянно</div>
            </div>
        </div>

        <p class="pricing-note">
            * Часовая ставка разработчика: от 1 800 до 4 500 ₽/час в зависимости от уровня специалиста. Цены актуальны на 2025-2026 гг.
        </p>
    </section>

    <hr class="section-divider">

    <section class="fade-in">
        <div class="section-label">Процесс</div>
        <h2 class="section-title">Как мы работаем</h2>
        <p class="section-subtitle">
            Прозрачный процесс с понятными этапами. Вы контролируете каждый шаг.
        </p>

        <div class="process-steps">
            <div class="process-step">
                <div class="step-number">1</div>
                <h4>Брифинг</h4>
                <p>Изучаем бизнес, аудиторию и цели. Формируем ТЗ и смету.</p>
            </div>
            <div class="process-step">
                <div class="step-number">2</div>
                <h4>Дизайн</h4>
                <p>Прототипы, UI-концепция, согласование визуала.</p>
            </div>
            <div class="process-step">
                <div class="step-number">3</div>
                <h4>Разработка</h4>
                <p>Вёрстка, backend, интеграции, AI-модули. Спринты по 2 недели.</p>
            </div>
            <div class="process-step">
                <div class="step-number">4</div>
                <h4>Тестирование</h4>
                <p>QA, нагрузочное тестирование, кросс-браузерная проверка.</p>
            </div>
            <div class="process-step">
                <div class="step-number">5</div>
                <h4>Запуск</h4>
                <p>Деплой, SEO-настройка, аналитика, передача доступов. Поддержка.</p>
            </div>
        </div>
    </section>

    <hr class="section-divider">

    <section id="advantages" class="fade-in">
        <div class="section-label">Преимущества</div>
        <h2 class="section-title">Почему мы</h2>
        <p class="section-subtitle">
            Сочетание технологической экспертизы, AI-компетенций и ориентации на бизнес-результат.
        </p>

        <div class="advantages-grid">
            <div class="advantage-card">
                <div class="advantage-icon">AI</div>
                <div class="advantage-text">
                    <h3>AI-экспертиза</h3>
                    <p>Интегрируем AI в каждый проект: чат-боты, рекомендательные системы, генерация контента. Работаем с YandexGPT, GigaChat и open-source моделями.</p>
                </div>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">RU</div>
                <div class="advantage-text">
                    <h3>Российский стек</h3>
                    <p>1С-Битрикс, Yandex.Cloud, Битрикс24 — соответствие требованиям импортозамещения и законодательства о персональных данных (152-ФЗ).</p>
                </div>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">360</div>
                <div class="advantage-text">
                    <h3>Полный цикл</h3>
                    <p>Дизайн, разработка, SEO, маркетинг, поддержка — все в одном месте. Не нужно координировать нескольких подрядчиков.</p>
                </div>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">$</div>
                <div class="advantage-text">
                    <h3>Прозрачные цены</h3>
                    <p>Фиксированная смета до начала работ. Поэтапная оплата. Никаких скрытых доплат. Отчёт по каждому этапу.</p>
                </div>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">&lt;/&gt;</div>
                <div class="advantage-text">
                    <h3>Чистый код</h3>
                    <p>TypeScript, тесты, code review, CI/CD. Код легко масштабировать и поддерживать. PageSpeed > 90 из коробки.</p>
                </div>
            </div>
            <div class="advantage-card">
                <div class="advantage-icon">24</div>
                <div class="advantage-text">
                    <h3>Поддержка 24/7</h3>
                    <p>Мониторинг, быстрая реакция на инциденты, регулярные обновления безопасности. SLA — от 1 часа реакции для критических задач.</p>
                </div>
            </div>
        </div>
    </section>

    <hr class="section-divider">

    <section class="fade-in">
        <div class="section-label">Материалы</div>
        <h2 class="section-title">Полезное</h2>
        <div class="materials-grid">
            <a href="market.html" class="material-card">
                <div class="material-icon"><svg viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="M7 16l4-8 4 4 6-9"/></svg></div>
                <div class="material-text">
                    <h3>Рынок и конкуренция</h3>
                    <p>Аналитика российского IT-рынка, объёмы, рост, конкурентный ландшафт</p>
                </div>
                <span class="material-arrow">&rarr;</span>
            </a>
            <a href="trends.html" class="material-card">
                <div class="material-icon"><svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></div>
                <div class="material-text">
                    <h3>Тренды 2025-2026</h3>
                    <p>AI, импортозамещение, e-commerce, облака, кибербезопасность</p>
                </div>
                <span class="material-arrow">&rarr;</span>
            </a>
            <a href="tech.html" class="material-card">
                <div class="material-icon"><svg viewBox="0 0 24 24"><path d="M16 18l2-2 4 4"/><path d="M15 3h6v6"/><path d="M21 3l-8.5 8.5"/><path d="M3 12a9 9 0 1 0 9-9"/></svg></div>
                <div class="material-text">
                    <h3>Технологии</h3>
                    <p>Наш стек: frontend, backend, mobile, AI и инфраструктура</p>
                </div>
                <span class="material-arrow">&rarr;</span>
            </a>
        </div>
    </section>

    <hr class="section-divider">

    <section id="faq" class="fade-in">
        <div class="section-label">FAQ</div>
        <h2 class="section-title">Частые вопросы</h2>
        <p class="section-subtitle">Ответы на популярные вопросы о работе с нами</p>

        <div class="faq-filters">
            <button class="faq-filter active" onclick="filterFaq('all', this)">Все</button>
            <button class="faq-filter" onclick="filterFaq('process', this)">Процесс</button>
            <button class="faq-filter" onclick="filterFaq('payment', this)">Оплата</button>
            <button class="faq-filter" onclick="filterFaq('tech', this)">Технологии</button>
            <button class="faq-filter" onclick="filterFaq('support', this)">Поддержка</button>
        </div>

        <div class="faq-list">
            <div class="faq-item" data-category="process">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Как начать работу с вами?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Оставьте заявку или напишите в Telegram. Мы обсудим задачу, составим ТЗ и смету. Старт работы — от 3 дней после согласования.</p>
                </div>
            </div>
            <div class="faq-item" data-category="process">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Сколько времени занимает разработка сайта?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Лендинг — 3–7 дней, корпоративный сайт — 2–6 недель, интернет-магазин — 1–3 месяца. Точные сроки после обсуждения проекта.</p>
                </div>
            </div>
            <div class="faq-item" data-category="process">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Что нужно от клиента для начала?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Заполненный бриф (есть на сайте), доступ к домену и хостингу (если есть), контент (тексты, логотип). Если контента нет — поможем с копирайтингом.</p>
                </div>
            </div>
            <div class="faq-item" data-category="payment">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Как происходит оплата?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Поэтапно: 50% предоплата, 50% после сдачи проекта. Для крупных проектов — оплата помесячно по спринтам. Работаем по договору.</p>
                </div>
            </div>
            <div class="faq-item" data-category="payment">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Что если результат не устроит?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Каждый этап согласовывается. Правки включены в стоимость. Если не можем договориться — возвращаем предоплату за невыполненный объём.</p>
                </div>
            </div>
            <div class="faq-item" data-category="payment">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Есть ли скрытые доплаты?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Нет. Фиксированная смета утверждается до начала работ. Дополнительные работы — только по вашему запросу с отдельным согласованием.</p>
                </div>
            </div>
            <div class="faq-item" data-category="tech">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Какие технологии вы используете?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>React, Vue, Node.js, Python, Flutter для мобильных. Для AI — YandexGPT, GigaChat. Российский стек: 1С-Битрикс, Yandex.Cloud. Подробнее на странице «Технологии».</p>
                </div>
            </div>
            <div class="faq-item" data-category="tech">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Кто владеет кодом и доменом?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Вы. После сдачи проекта все исходники, доступы, домен и хостинг передаются клиенту. Никакой привязки к нам.</p>
                </div>
            </div>
            <div class="faq-item" data-category="support">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Что происходит после запуска?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>Гарантийная поддержка 1 месяц бесплатно. Далее — тариф на обслуживание от 5 000 ₽/мес: мониторинг, обновления, правки, бэкапы.</p>
                </div>
            </div>
            <div class="faq-item" data-category="support">
                <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
                    <span>Как быстро вы реагируете на проблемы?</span>
                    <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </button>
                <div class="faq-answer">
                    <p>SLA от 1 часа для критических инцидентов. Мониторинг 24/7. Связь через Telegram — ответ в течение 30 минут в рабочее время.</p>
                </div>
            </div>
        </div>
    </section>

    <hr class="section-divider">

    <section id="contact" class="cta-section fade-in">
        <div class="section-label">Начать проект</div>
        <h2 class="section-title">Готовы обсудить ваш проект?</h2>
        <p class="section-subtitle cta-subtitle">
            Бесплатная консультация, оценка сроков и стоимости. Расскажите о вашей задаче — мы предложим решение.
        </p>
        <button class="cta-button" onclick="openBrief()">Оставить заявку</button>
        <p class="cta-or">или напишите нам напрямую</p>
        <div class="cta-contacts">
            <a href="mailto:nikita.alandarenko@gmail.com">nikita.alandarenko@gmail.com</a>
            <span class="cta-divider">|</span>
            <a href="https://t.me/myway_nikita">Telegram: @myway_nikita</a>
        </div>
    </section>

    </main>

    <footer>
        <p>NEXUS Digital &copy; 2025-2026</p>
        <p class="footer-privacy"><a href="/privacy.html">Политика конфиденциальности</a></p>
    </footer>

    <div class="modal-overlay" id="briefModal" role="dialog" aria-modal="true" aria-label="Форма заявки">
        <div class="modal-header">
            <div class="modal-header-left">
                <button class="logo modal-logo-btn" onclick="tryCloseBrief()">NEXUS Digital</button>
                <button class="modal-back" onclick="tryCloseBrief()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5m0 0l7 7m-7-7l7-7"/></svg>
                    На сайт
                </button>
            </div>
            <div class="modal-header-right">
                <div class="modal-progress"><div class="modal-progress-fill" id="bProg"></div></div>
                <span class="modal-progress-text" id="bProgTxt">0%</span>
                <button class="modal-close" onclick="tryCloseBrief()" aria-label="Закрыть">&times;</button>
            </div>
        </div>
        <div class="modal-body">
            <div class="modal-hero">
                <div class="m-label">Заявка</div>
                <h2>Расскажите о <span>вашем проекте</span></h2>
                <p>Оставьте контакты и опишите задачу — мы свяжемся и обсудим детали.</p>
            </div>

            <div class="b-steps" id="bSteps">
                <button class="b-step active" onclick="bGo(0)">1. Контакты</button>
                <button class="b-step" onclick="bGo(1)">2. О проекте</button>
            </div>

            <div class="b-section active" id="bs0">
                <div class="b-head"><div class="b-num">Шаг 1 из 2</div><h3>Контактная информация</h3><p>Как с вами связаться</p></div>
                <div class="b-row">
                    <div class="b-field"><label for="b_name">Имя <span class="req">*</span></label><input class="b-input" id="b_name" name="b_name" placeholder="Иван Петров" autocomplete="name" maxlength="100" aria-required="true"><div class="b-err">Укажите ваше имя</div></div>
                    <div class="b-field"><label for="b_phone">Телефон <span class="req">*</span></label><input class="b-input" id="b_phone" name="b_phone" type="tel" placeholder="+7 (999) 123-45-67" autocomplete="tel" maxlength="20" aria-required="true"><div class="b-err">Укажите номер телефона</div><div class="b-swarn">Проверьте номер — слишком короткий</div></div>
                </div>
                <div class="b-row">
                    <div class="b-field"><label for="b_email">Email <span class="req">*</span></label><input class="b-input" id="b_email" name="b_email" type="email" placeholder="ivan@company.ru" autocomplete="email" maxlength="100" aria-required="true"><div class="b-err">Укажите email</div><div class="b-swarn">Проверьте формат email</div></div>
                    <div class="b-field"><label for="b_tg">Telegram <span class="opt">необязательно</span></label><input class="b-input" id="b_tg" name="b_tg" placeholder="@username" maxlength="50"></div>
                </div>
                <div class="b-nav"><div></div><button class="b-btn b-btn-pri" onclick="bNext()">Далее</button></div>
            </div>

            <div class="b-section" id="bs1">
                <div class="b-head"><div class="b-num">Шаг 2 из 2</div><h3>О проекте</h3><p>Расскажите что нужно сделать</p></div>
                <div class="b-field"><label>Тип проекта <span class="req">*</span></label><div class="b-checks" role="radiogroup" aria-label="Тип проекта">
                    <div class="b-chk"><input type="radio" id="bst1" name="b_stype" value="Лендинг"><label for="bst1">Лендинг</label></div>
                    <div class="b-chk"><input type="radio" id="bst2" name="b_stype" value="Корпоративный сайт"><label for="bst2">Корпоративный сайт</label></div>
                    <div class="b-chk"><input type="radio" id="bst3" name="b_stype" value="Интернет-магазин"><label for="bst3">Интернет-магазин</label></div>
                    <div class="b-chk"><input type="radio" id="bst4" name="b_stype" value="Мобильное приложение"><label for="bst4">Приложение</label></div>
                    <div class="b-chk"><input type="radio" id="bst5" name="b_stype" value="Telegram-бот"><label for="bst5">Telegram-бот</label></div>
                    <div class="b-chk"><input type="radio" id="bst6" name="b_stype" value="Другое"><label for="bst6">Другое</label></div>
                </div><div class="b-err">Выберите тип проекта</div></div>
                <div class="b-field"><label for="b_desc">Опишите задачу <span class="req">*</span></label><textarea class="b-textarea" id="b_desc" name="b_desc" placeholder="Что нужно сделать? Какую проблему решить?" maxlength="2000" aria-required="true"></textarea><div class="b-char-count" id="bDescCount">0 / 2000</div><div class="b-err">Опишите вашу задачу</div></div>
                <div class="b-field"><label>Бюджет <span class="req">*</span></label><div class="b-checks" role="radiogroup" aria-label="Бюджет">
                    <div class="b-chk"><input type="radio" id="bbu1" name="b_bud" value="до 100K"><label for="bbu1">до 100 тыс. ₽</label></div>
                    <div class="b-chk"><input type="radio" id="bbu2" name="b_bud" value="100-300K"><label for="bbu2">100-300 тыс. ₽</label></div>
                    <div class="b-chk"><input type="radio" id="bbu3" name="b_bud" value="300K-1M"><label for="bbu3">300K — 1 млн ₽</label></div>
                    <div class="b-chk"><input type="radio" id="bbu4" name="b_bud" value="1M+"><label for="bbu4">Более 1 млн ₽</label></div>
                    <div class="b-chk"><input type="radio" id="bbu5" name="b_bud" value="Обсудим"><label for="bbu5">Обсудим</label></div>
                </div><div class="b-err">Выберите бюджет</div></div>
                <div class="b-field"><label>Сроки</label><div class="b-checks" role="radiogroup" aria-label="Сроки">
                    <div class="b-chk"><input type="radio" id="btm1" name="b_time" value="Срочно"><label for="btm1">Срочно</label></div>
                    <div class="b-chk"><input type="radio" id="btm2" name="b_time" value="1 мес"><label for="btm2">1 месяц</label></div>
                    <div class="b-chk"><input type="radio" id="btm3" name="b_time" value="2-3 мес"><label for="btm3">2-3 месяца</label></div>
                </div></div>
                <div class="b-field"><label>Комментарии <span class="opt">необязательно</span></label><textarea class="b-textarea" name="b_comments" placeholder="Ссылки на примеры, пожелания, детали..." maxlength="2000"></textarea></div>
                <div class="b-nav"><button class="b-btn b-btn-sec" onclick="bPrev()">Назад</button><button class="b-btn b-btn-ok" onclick="bShowResults()">Проверить и отправить</button></div>
            </div>

            <div class="b-section" id="bResults">
                <div class="b-head"><div class="b-num">Готово</div><h3>Сводка по заявке</h3><p>Проверьте и отправьте</p></div>
                <div id="bResContent"></div>
                <div id="bResWarnings" class="b-warnings"></div>
                <div id="bSendStatus" class="b-send-status"></div>
                <label class="b-consent"><input type="checkbox" id="bConsent"><span>Я соглашаюсь с <a href="/privacy.html" target="_blank">политикой конфиденциальности</a> и даю согласие на обработку персональных данных</span></label>
                <div class="b-nav"><button class="b-btn b-btn-sec" onclick="bGo(0)">Редактировать</button><button class="b-btn b-btn-ok" id="bSendBtn" onclick="bSendTg()">Отправить заявку</button></div>
            </div>
        </div>
    </div>

    <div class="modal-confirm-overlay" id="confirmLeave" role="alertdialog" aria-modal="true" aria-label="Подтверждение выхода">
        <div class="modal-confirm">
            <h3>Вернуться на сайт?</h3>
            <p>Заполненные данные не сохранены и будут потеряны при закрытии брифа.</p>
            <div class="modal-confirm-btns">
                <button class="btn-confirm-stay" onclick="hideConfirm()">Остаться</button>
                <button class="btn-confirm-leave" onclick="forceCloseBrief()">Вернуться на сайт</button>
            </div>
        </div>
    </div>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); } });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

        function toggleMenu() {
            document.querySelector('.burger').classList.toggle('open');
            document.getElementById('mobileMenu').classList.toggle('open');
            document.getElementById('mobileOverlay').classList.toggle('open');
        }
        function closeMenu() {
            document.querySelector('.burger').classList.remove('open');
            document.getElementById('mobileMenu').classList.remove('open');
            document.getElementById('mobileOverlay').classList.remove('open');
        }

        function toggleFaq(btn) {
            const item = btn.closest('.faq-item');
            const wasOpen = item.classList.contains('open');
            item.parentElement.querySelectorAll('.faq-item.open').forEach(el => {
                el.classList.remove('open');
                el.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
            });
            if (!wasOpen) {
                item.classList.add('open');
                btn.setAttribute('aria-expanded', 'true');
            }
        }

        function filterFaq(category, btn) {
            document.querySelectorAll('.faq-filter').forEach(f => f.classList.remove('active'));
            btn.classList.add('active');
            document.querySelectorAll('.faq-item').forEach(item => {
                item.classList.remove('open');
                item.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
                if (category === 'all' || item.dataset.category === category) {
                    item.classList.remove('faq-hidden');
                } else {
                    item.classList.add('faq-hidden');
                }
            });
        }

        function toggleService(card) {
            if (window.innerWidth > 768) return;
            card.classList.toggle('open');
        }

        let briefTrigger = null;
        let briefSent = false;
        function openBrief() {
            closeMenu();
            briefTrigger = document.activeElement;
            document.getElementById('briefModal').classList.add('open');
            document.body.style.overflow = 'hidden';
            setTimeout(() => { const first = document.querySelector('#briefModal .b-input'); if (first) first.focus(); }, 100);
        }
        function closeBrief() {
            document.getElementById('briefModal').classList.remove('open');
            document.body.style.overflow = '';
            if (briefTrigger) { briefTrigger.focus(); briefTrigger = null; }
        }

        function briefHasData() {
            let has = false;
            document.querySelectorAll('#briefModal .b-input, #briefModal .b-textarea').forEach(e => { if (e.value && e.value.trim()) has = true; });
            document.querySelectorAll('#briefModal input[type=radio]:checked').forEach(() => has = true);
            document.querySelectorAll('#briefModal input[type=checkbox]:checked:not(#bConsent)').forEach(() => has = true);
            return has;
        }
        function tryCloseBrief() {
            if (briefSent) { closeBrief(); return; }
            if (briefHasData()) {
                document.getElementById('confirmLeave').classList.add('open');
                setTimeout(() => { const stay = document.querySelector('#confirmLeave .btn-confirm-stay'); if (stay) stay.focus(); }, 50);
            } else {
                closeBrief();
            }
        }
        function hideConfirm() {
            document.getElementById('confirmLeave').classList.remove('open');
            const closeBtn = document.querySelector('#briefModal .modal-close');
            if (closeBtn) closeBtn.focus();
        }
        function forceCloseBrief() { document.getElementById('confirmLeave').classList.remove('open'); closeBrief(); }

        const bReq = {
            0: [
                { name: 'b_name', type: 'input', label: 'Имя' },
                { name: 'b_phone', type: 'input', label: 'Телефон' },
                { name: 'b_email', type: 'input', label: 'Email' }
            ],
            1: [
                { name: 'b_stype', type: 'radio', label: 'Тип проекта' },
                { name: 'b_desc', type: 'input', label: 'Описание задачи' },
                { name: 'b_bud', type: 'radio', label: 'Бюджет' }
            ]
        };

        function bValidateStep(step) {
            const rules = bReq[step] || [];
            let ok = true;
            const sec = document.getElementById('bs' + step);
            sec.querySelectorAll('.b-field').forEach(f => f.classList.remove('has-error', 'soft-warn'));

            rules.forEach(r => {
                let valid = false;
                if (r.type === 'input') {
                    const el = sec.querySelector(`[name="${r.name}"]`);
                    if (el && el.value.trim()) valid = true;
                } else if (r.type === 'select') {
                    const el = sec.querySelector(`[name="${r.name}"]`);
                    if (el && el.value) valid = true;
                } else if (r.type === 'radio') {
                    valid = !!sec.querySelector(`[name="${r.name}"]:checked`);
                } else if (r.type === 'check') {
                    valid = sec.querySelectorAll(`[name="${r.name}"]:checked`).length > 0;
                }
                if (!valid) {
                    ok = false;
                    const el = sec.querySelector(`[name="${r.name}"]`);
                    if (el) {
                        const field = el.closest('.b-field');
                        if (field) field.classList.add('has-error');
                    }
                }
            });

            bSoftValidate(sec);
            return ok;
        }

        function bSoftValidate(sec) {
            const email = sec.querySelector('[name="b_email"]');
            if (email && email.value.trim() && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value.trim())) {
                const f = email.closest('.b-field');
                f.classList.remove('has-error');
                f.classList.add('soft-warn');
            }
            const phone = sec.querySelector('[name="b_phone"]');
            if (phone && phone.value.trim() && phone.value.replace(/\D/g, '').length < 7) {
                const f = phone.closest('.b-field');
                f.classList.remove('has-error');
                f.classList.add('soft-warn');
            }
        }

        function bValidateAll() {
            let missing = [];
            for (let s = 0; s < 2; s++) {
                const rules = bReq[s] || [];
                const sec = document.getElementById('bs' + s);
                rules.forEach(r => {
                    let valid = false;
                    if (r.type === 'input') { const el = sec.querySelector(`[name="${r.name}"]`); valid = el && el.value.trim(); }
                    else if (r.type === 'select') { const el = sec.querySelector(`[name="${r.name}"]`); valid = el && el.value; }
                    else if (r.type === 'radio') { valid = !!sec.querySelector(`[name="${r.name}"]:checked`); }
                    else if (r.type === 'check') { valid = sec.querySelectorAll(`[name="${r.name}"]:checked`).length > 0; }
                    if (!valid) missing.push({ step: s, label: r.label });
                });
            }
            const btns = document.querySelectorAll('.b-step');
            btns.forEach(b => b.classList.remove('has-missing'));
            const missingSteps = [...new Set(missing.map(m => m.step))];
            missingSteps.forEach(s => { if (btns[s]) btns[s].classList.add('has-missing'); });
            return missing;
        }

        document.getElementById('briefModal').addEventListener('input', e => {
            const field = e.target.closest('.b-field');
            if (field) field.classList.remove('has-error', 'soft-warn');
        });
        document.getElementById('briefModal').addEventListener('change', e => {
            const field = e.target.closest('.b-field');
            if (field) field.classList.remove('has-error', 'soft-warn');
        });

        let bCur = 0;
        function bGo(n) {
            if (n > bCur) { for (let i = bCur; i < n; i++) { if (!bValidateStep(i)) return; bMarkDone(i); } }
            document.querySelectorAll('.b-section').forEach(s => s.classList.remove('active'));
            document.getElementById('bs' + n).classList.add('active');
            bCur = n;
            const btns = document.querySelectorAll('.b-step');
            btns.forEach((b, i) => { b.classList.remove('active'); if (i === n) b.classList.add('active'); });
            bUpdProg();
            document.getElementById('briefModal').scrollTo({ top: 0, behavior: 'smooth' });
        }
        function bNext() {
            if (bCur < 1) {
                if (bValidateStep(bCur)) {
                    bMarkDone(bCur);
                    bGo(bCur + 1);
                } else {
                    const firstErr = document.querySelector('#bs' + bCur + ' .has-error');
                    if (firstErr) firstErr.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }
        function bPrev() { if (bCur > 0) bGo(bCur - 1); }
        function bMarkDone(i) { const b = document.querySelectorAll('.b-step'); if (b[i]) b[i].classList.add('done'); }

        const descArea = document.getElementById('b_desc');
        const descCount = document.getElementById('bDescCount');
        descArea.addEventListener('input', () => {
            const len = descArea.value.length;
            descCount.textContent = len + ' / 2000';
            descCount.className = 'b-char-count' + (len >= 2000 ? ' at-limit' : len >= 1800 ? ' near-limit' : '');
        });

        function bUpdProg() {
            let c = 0, t = 0;
            document.querySelectorAll('#briefModal .b-input, #briefModal .b-select, #briefModal .b-textarea').forEach(e => { t++; if (e.value && e.value.trim()) c++; });
            const radioGroups = new Set();
            document.querySelectorAll('#briefModal input[type=radio]').forEach(e => radioGroups.add(e.name));
            radioGroups.forEach(name => { t++; if (document.querySelector(`#briefModal input[name="${name}"]:checked`)) c++; });
            const p = t ? Math.min(Math.round((c / t) * 100), 100) : 0;
            document.getElementById('bProg').style.width = p + '%';
            document.getElementById('bProgTxt').textContent = p + '%';
        }
        document.getElementById('briefModal').addEventListener('input', bUpdProg);
        document.getElementById('briefModal').addEventListener('change', bUpdProg);

        function bV(n) { const e = document.querySelector(`#briefModal [name="${n}"]`); if (!e) return '—'; if (e.type === 'radio') { const c = document.querySelector(`#briefModal [name="${n}"]:checked`); return c ? c.value : '—'; } return e.value || '—'; }
        function bC(n) { const items = document.querySelectorAll(`#briefModal [name="${n}"]:checked`); return items.length ? Array.from(items).map(e => e.value).join(', ') : '—'; }
        function escHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

        function bShowResults() {
            if (!bValidateStep(bCur)) {
                const firstErr = document.querySelector('#bs' + bCur + ' .has-error');
                if (firstErr) firstErr.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            const missing = bValidateAll();
            if (missing.length > 0) {
                let html = '<div class="b-val-summary"><p>Не заполнены обязательные поля:</p>';
                const grouped = {};
                missing.forEach(m => { if (!grouped[m.step]) grouped[m.step] = []; grouped[m.step].push(m.label); });
                const stepNames = ['Контакты','О проекте'];
                Object.keys(grouped).forEach(s => {
                    html += `<span class="b-val-link" onclick="bGo(${s})">Шаг ${+s+1}. ${stepNames[s]}: ${grouped[s].join(', ')}</span>`;
                });
                html += '</div>';
                document.getElementById('bResWarnings').innerHTML = html;
                document.querySelectorAll('.b-section').forEach(s => s.classList.remove('active'));
                document.getElementById('bResults').classList.add('active');
                document.getElementById('bResContent').innerHTML = '';
                document.getElementById('briefModal').scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }
            document.querySelectorAll('.b-section').forEach(s => s.classList.remove('active'));
            document.getElementById('bResults').classList.add('active');
            bMarkDone(1);
            const secs = [
                { t: 'Контакты', r: [['Имя', bV('b_name')],['Телефон', bV('b_phone')],['Email', bV('b_email')],['Telegram', bV('b_tg')]] },
                { t: 'О проекте', r: [['Тип проекта', bC('b_stype')],['Задача', bV('b_desc')],['Бюджет', bC('b_bud')],['Сроки', bC('b_time')],['Комментарии', bV('b_comments')]] },
            ];
            let h = '';
            secs.forEach(s => { h += `<div class="b-result"><h4>${s.t}</h4>`; s.r.forEach(([l, v]) => { h += `<div class="b-rrow"><span class="b-rlbl">${l}</span><span class="b-rval">${escHtml(v)}</span></div>`; }); h += '</div>'; });
            document.getElementById('bResContent').innerHTML = h;
            document.getElementById('bResWarnings').innerHTML = '';
            document.getElementById('briefModal').scrollTo({ top: 0, behavior: 'smooth' });
        }

        function bSendTg() {
            if (!document.getElementById('bConsent').checked) {
                const status = document.getElementById('bSendStatus');
                status.innerHTML = '<div class="b-val-summary"><p>Необходимо согласие на обработку персональных данных</p></div>';
                return;
            }
            const missing = bValidateAll();
            if (missing.length > 0) {
                const status = document.getElementById('bSendStatus');
                let html = '<div class="b-val-summary"><p>Заполните обязательные поля перед отправкой:</p>';
                const grouped = {};
                missing.forEach(m => { if (!grouped[m.step]) grouped[m.step] = []; grouped[m.step].push(m.label); });
                const stepNames = ['Контакты','О проекте'];
                Object.keys(grouped).forEach(s => {
                    html += `<span class="b-val-link" onclick="bGo(${s})">Шаг ${+s+1}. ${stepNames[s]}: ${grouped[s].join(', ')}</span>`;
                });
                html += '</div>';
                status.innerHTML = html;
                return;
            }
            const btn = document.getElementById('bSendBtn');
            const status = document.getElementById('bSendStatus');
            btn.disabled = true;
            btn.classList.add('loading');
            btn.textContent = 'Отправка';
            status.innerHTML = '';

            const esc = s => s.replace(/([_*`\[])/g, '\\$1');
            let msg = '📋 *Новая заявка с сайта NEXUS Digital*\n\n';
            const fields = [
                ['👤 Имя', bV('b_name')], ['📞 Телефон', bV('b_phone')],
                ['📧 Email', bV('b_email')], ['✈️ Telegram', bV('b_tg')],
                ['🔧 Тип проекта', bC('b_stype')], ['📝 Задача', bV('b_desc')],
                ['💳 Бюджет', bC('b_bud')], ['⏰ Сроки', bC('b_time')],
                ['💬 Комментарии', bV('b_comments')]
            ];
            fields.forEach(([l, v]) => { if (v && v !== '—') msg += `${l}: ${esc(v)}\n`; });

            fetch('/api/send', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    text: msg,
                    fields: {
                        name: bV('b_name'),
                        phone: bV('b_phone'),
                        email: bV('b_email'),
                        tg: bV('b_tg'),
                        type: bC('b_stype'),
                        desc: bV('b_desc'),
                        budget: bC('b_bud'),
                        timeline: bC('b_time'),
                        comments: bV('b_comments')
                    }
                })
            })
            .then(r => r.json())
            .then(data => {
                if (data.ok) {
                    btn.classList.remove('loading');
                    status.innerHTML = '<div class="b-tip"><span class="b-tip-i">✓</span><span>Бриф отправлен! Мы свяжемся с вами в ближайшее время.</span></div>';
                    btn.textContent = 'Отправлено ✓';
                    briefSent = true;
                    const editBtn = document.querySelector('#bResults .b-btn-sec');
                    if (editBtn) { editBtn.disabled = true; editBtn.style.opacity = '0.4'; editBtn.style.pointerEvents = 'none'; }
                    document.querySelector('.b-consent').style.display = 'none';
                } else {
                    throw new Error(data.description);
                }
            })
            .catch(() => {
                btn.classList.remove('loading');
                status.innerHTML = '<div class="b-warn"><span class="b-warn-i">!</span><span>Ошибка отправки. Напишите нам напрямую в Telegram: @myway_nikita</span></div>';
                btn.disabled = false;
                btn.textContent = 'Попробовать снова';
            });
        }

        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') {
                if (document.getElementById('confirmLeave').classList.contains('open')) {
                    hideConfirm();
                } else if (document.getElementById('briefModal').classList.contains('open')) {
                    tryCloseBrief();
                }
            }
            if (e.key === 'Tab' && document.getElementById('briefModal').classList.contains('open')) {
                const modal = document.getElementById('confirmLeave').classList.contains('open')
                    ? document.getElementById('confirmLeave')
                    : document.getElementById('briefModal');
                const focusable = modal.querySelectorAll('button:not([disabled]),input:not([disabled]),textarea:not([disabled]),select:not([disabled]),a[href],[tabindex]:not([tabindex="-1"])');
                if (focusable.length === 0) return;
                const first = focusable[0], last = focusable[focusable.length - 1];
                if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
                else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
            }
        });
    </script>

    <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})" aria-label="Наверх">
        <svg viewBox="0 0 24 24"><path d="M12 19V5m0 0l-7 7m7-7l7 7"/></svg>
    </button>
    <script>
        const scrollBtn = document.getElementById('scrollTop');
        window.addEventListener('scroll', () => {
            scrollBtn.classList.toggle('visible', window.scrollY > 600);
        }, { passive: true });
    </script>

    <!-- Count-up animation -->
    <script>
    (function() {
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

        const statsSection = document.querySelector('.hero-stats');
        if (!statsSection) return;

        let animated = false;
        const statsObserver = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
                if (entry.isIntersecting && !animated) {
                    animated = true;
                    statsObserver.unobserve(entry.target);
                    animateStats();
                }
            });
        }, { threshold: 0.3 });

        statsObserver.observe(statsSection);

        function animateStats() {
            var items = statsSection.querySelectorAll('.stat-number');
            items.forEach(function(el) {
                var text = el.textContent.trim();
                var match = text.match(/(\d+)/);
                if (!match) return;
                var target = parseInt(match[1], 10);
                var suffix = text.replace(match[1], '').trim();
                var prefix = text.indexOf(match[1]) > 0 ? text.substring(0, text.indexOf(match[1])) : '';
                suffix = text.substring(text.indexOf(match[1]) + match[1].length);

                var duration = 1200;
                var start = performance.now();

                function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

                function tick(now) {
                    var elapsed = now - start;
                    var progress = Math.min(elapsed / duration, 1);
                    var value = Math.round(easeOutCubic(progress) * target);
                    el.textContent = prefix + value + suffix;
                    if (progress < 1) requestAnimationFrame(tick);
                }

                el.textContent = prefix + '0' + suffix;
                requestAnimationFrame(tick);
            });
        }
    })();
    </script>

    <!-- Preloader -->
    <script>
    (function() {
        var preloader = document.getElementById('preloader');
        if (!preloader || preloader.style.display === 'none') return;

        function hidePreloader() {
            if (preloader.classList.contains('hidden')) return;
            preloader.classList.add('hidden');
            sessionStorage.setItem('nexus_loaded', '1');
            preloader.addEventListener('transitionend', function() {
                preloader.remove();
            }, { once: true });
        }

        window.addEventListener('load', function() {
            setTimeout(hidePreloader, 300);
        });

        setTimeout(hidePreloader, 4000);
    })();
    </script>

    <script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js').catch(function() {});
    }
    </script>

</body>
</html>
