<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Подробный бриф на разработку — Devorra</title>
  <meta name="description" content="Заполните подробный бриф на разработку сайта. 8 шагов — и мы подготовим точное коммерческое предложение.">
  <meta name="robots" content="noindex, nofollow">
  <link rel="canonical" href="https://devorra.ru/brief.html">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="apple-touch-icon" href="/icon-192.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#6366f1">
  <link rel="preload" href="/fonts/inter-cyrillic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="/styles.css">
  <style>
    /* Brief-specific styles (supplement main styles.css) */
    .brief-wrap {
      max-width: 720px;
      margin: 0 auto;
      padding: 24px 20px 80px;
    }

    .brief-hero {
      text-align: center;
      padding: 80px 0 32px;
    }
    .brief-hero .label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--accent-light, #818cf8);
      margin-bottom: 12px;
    }
    .brief-hero h1 {
      font-size: 36px;
      font-weight: 800;
      letter-spacing: -1px;
      margin-bottom: 12px;
    }
    .brief-hero h1 span {
      background: linear-gradient(135deg, #6366f1, #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .brief-hero p {
      font-size: 16px;
      color: #9ca3af;
      max-width: 520px;
      margin: 0 auto;
      line-height: 1.7;
    }

    /* Progress bar */
    .bf-progress-wrap {
      background: rgba(255,255,255,0.05);
      height: 3px;
      position: sticky;
      top: 60px;
      z-index: 90;
    }
    .bf-progress-bar {
      height: 100%;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      transition: width 0.3s ease;
      border-radius: 0 2px 2px 0;
    }

    /* Save indicator */
    .bf-save {
      position: fixed;
      top: 16px;
      right: 20px;
      font-size: 12px;
      color: #6b7280;
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 101;
      pointer-events: none;
    }
    .bf-save.visible { opacity: 1; }

    /* Steps nav */
    .bf-steps-nav {
      display: flex;
      gap: 4px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      padding: 16px 0 0;
      margin-bottom: 8px;
    }
    .bf-steps-nav::-webkit-scrollbar { display: none; }

    .bf-dot {
      flex-shrink: 0;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.08);
      background: transparent;
      color: #6b7280;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: inherit;
    }
    .bf-dot:hover { border-color: #6366f1; color: #9ca3af; }
    .bf-dot.active { background: linear-gradient(135deg, #6366f1, #8b5cf6); border-color: transparent; color: #fff; }
    .bf-dot.completed { border-color: #22c55e; color: #22c55e; }
    .bf-dot.completed span { display: none; }
    .bf-dot.completed::after { content: '\2713'; }

    /* Steps */
    .bf-step {
      display: none;
      animation: bfFadeIn 0.4s ease;
    }
    .bf-step.active { display: block; }

    @keyframes bfFadeIn {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .bf-step-header { margin-bottom: 28px; }
    .bf-step-num { font-size: 13px; color: #818cf8; font-weight: 600; margin-bottom: 4px; }
    .bf-step-title { font-size: 24px; font-weight: 700; line-height: 1.3; color: #f1f1f4; }
    .bf-step-desc { color: #9ca3af; font-size: 14px; margin-top: 6px; }

    /* Card (glass) */
    .bf-card {
      background: rgba(26, 26, 37, 0.6);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 16px;
    }

    /* Fields */
    .bf-field { margin-bottom: 20px; }
    .bf-field:last-child { margin-bottom: 0; }

    .bf-field > label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 6px;
      color: #f1f1f4;
    }
    .bf-field .req { color: #ef4444; margin-left: 2px; }
    .bf-field .opt { color: #6b7280; font-weight: 400; font-size: 13px; margin-left: 4px; }

    .bf-input,
    .bf-textarea,
    .bf-select {
      width: 100%;
      padding: 12px 14px;
      background: #14141e;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 8px;
      color: #f1f1f4;
      font-size: 16px;
      font-family: inherit;
      transition: border-color 0.3s, box-shadow 0.3s;
      outline: none;
    }
    .bf-input:focus, .bf-textarea:focus, .bf-select:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99,102,241,0.15);
    }
    .bf-input::placeholder, .bf-textarea::placeholder { color: #6b7280; }
    .bf-textarea { resize: vertical; min-height: 80px; }
    .bf-select {
      appearance: none;
      cursor: pointer;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M2 4l4 4 4-4'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      padding-right: 36px;
    }
    .bf-select option { background: #12121a; color: #f1f1f4; }

    .bf-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    @media (max-width: 540px) {
      .bf-row { grid-template-columns: 1fr; }
    }

    /* Options grid (radio/checkbox) */
    .bf-opts {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }
    @media (max-width: 480px) {
      .bf-opts { grid-template-columns: 1fr; }
    }

    .bf-opt { position: relative; }
    .bf-opt input { position: absolute; opacity: 0; width: 0; height: 0; }
    .bf-opt label {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 14px;
      background: #14141e;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 400;
      font-size: 14px;
      min-height: 44px;
      user-select: none;
      color: #9ca3af;
      margin-bottom: 0;
    }
    .bf-opt label:hover { border-color: rgba(99,102,241,0.3); }
    .bf-opt input:checked + label {
      border-color: #6366f1;
      background: rgba(99,102,241,0.15);
      color: #818cf8;
    }
    .bf-opt label::before {
      content: '';
      width: 18px;
      height: 18px;
      border-radius: 4px;
      border: 2px solid #6b7280;
      flex-shrink: 0;
      transition: all 0.3s;
    }
    .bf-opt input[type="radio"] + label::before { border-radius: 50%; }
    .bf-opt input:checked + label::before {
      border-color: #6366f1;
      background: #6366f1;
    }

    /* URL lists */
    .bf-url-list { display: flex; flex-direction: column; gap: 8px; }
    .bf-url-row { display: flex; gap: 8px; }
    .bf-url-row input { flex: 1; }
    .bf-url-add, .bf-url-rm {
      flex-shrink: 0;
      width: 40px;
      height: 44px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.08);
      background: #14141e;
      color: #9ca3af;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      font-family: inherit;
    }
    .bf-url-add:hover { border-color: #6366f1; color: #6366f1; }
    .bf-url-rm:hover { border-color: #ef4444; color: #ef4444; }

    /* Nav buttons */
    .bf-nav {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }
    .bf-btn {
      padding: 12px 28px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.3s;
      border: none;
      min-height: 44px;
    }
    .bf-btn-pri {
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: #fff;
      flex: 1;
    }
    .bf-btn-pri:hover { opacity: 0.9; transform: translateY(-1px); }
    .bf-btn-sec {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.08);
      color: #9ca3af;
    }
    .bf-btn-sec:hover { border-color: #6b7280; color: #f1f1f4; }
    .bf-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
    .bf-btn.loading { pointer-events: none; }

    /* Field errors */
    .bf-err {
      font-size: 12px;
      color: #ef4444;
      margin-top: 4px;
      display: none;
    }
    .bf-field.has-error .bf-input,
    .bf-field.has-error .bf-textarea,
    .bf-field.has-error .bf-select { border-color: #ef4444; }
    .bf-field.has-error .bf-err { display: block; }
    .bf-field.has-error .bf-opts .bf-opt label { border-color: rgba(239,68,68,0.3); }

    /* Summary */
    .bf-summary-sec { margin-bottom: 20px; }
    .bf-summary-sec h3 {
      font-size: 15px;
      font-weight: 600;
      color: #818cf8;
      margin-bottom: 10px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }
    .bf-summary-row {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      padding: 6px 0;
      font-size: 14px;
    }
    .bf-summary-lbl { color: #9ca3af; flex-shrink: 0; }
    .bf-summary-val { color: #f1f1f4; text-align: right; word-break: break-word; }

    /* Consent */
    .bf-consent {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin-top: 20px;
      font-size: 13px;
      color: #9ca3af;
    }
    .bf-consent input[type="checkbox"] {
      width: 18px;
      height: 18px;
      margin-top: 2px;
      flex-shrink: 0;
      accent-color: #6366f1;
    }
    .bf-consent a { color: #818cf8; text-decoration: none; }

    /* Submit error */
    .bf-submit-err {
      background: rgba(239,68,68,0.1);
      border: 1px solid rgba(239,68,68,0.3);
      border-radius: 8px;
      padding: 12px 16px;
      color: #ef4444;
      font-size: 14px;
      margin-top: 16px;
      display: none;
    }
    .bf-submit-err.visible { display: block; }

    /* Success screen */
    .bf-success {
      display: none;
      text-align: center;
      padding: 60px 20px;
      animation: bfFadeIn 0.5s ease;
    }
    .bf-success.active { display: block; }
    .bf-success-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: rgba(34,197,94,0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      font-size: 36px;
      color: #22c55e;
    }
    .bf-success h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #f1f1f4;
    }
    .bf-success p {
      color: #9ca3af;
      font-size: 16px;
      max-width: 400px;
      margin: 0 auto 32px;
      line-height: 1.6;
    }
    .bf-success a {
      display: inline-block;
      padding: 12px 32px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: #fff;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: opacity 0.2s;
    }
    .bf-success a:hover { opacity: 0.9; }

    /* Spinner */
    .bf-spinner {
      display: inline-block;
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: bfSpin 0.6s linear infinite;
      margin-right: 8px;
      vertical-align: middle;
    }
    @keyframes bfSpin { to { transform: rotate(360deg); } }

    /* Honeypot */
    .bf-hp { position: absolute; left: -9999px; opacity: 0; height: 0; }

    /* Responsive */
    @media (max-width: 640px) {
      .brief-hero h1 { font-size: 26px; }
      .bf-card { padding: 18px; }
      .bf-dot { width: 32px; height: 32px; font-size: 12px; }
      .bf-step-title { font-size: 20px; }
    }

    @media print {
      nav, footer, .bf-steps-nav, .bf-nav, .bf-progress-wrap, .bf-save { display: none !important; }
      body { background: white; color: #111; }
      .bf-step { display: block !important; }
      .bf-card { border: 1px solid #ddd; break-inside: avoid; backdrop-filter: none; background: #f9f9f9; }
    }
  </style>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
  (function(m,e,t,r,i,k,a){
    m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
  })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106813146', 'ym');
  ym(106813146, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/106813146" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</head>
<body>

<!-- Header from main site -->
<nav>
  <a href="/" class="logo">Devorra</a>
  <ul class="nav-links">
    <li><a href="/#services">Услуги</a></li>
    <li><a href="/#pricing">Цены</a></li>
    <li><a href="/#materials">Полезное</a></li>
    <li><a href="/#faq">FAQ</a></li>
    <li><a href="/#contact">Контакты</a></li>
    <li><a href="#" class="nav-cta" role="button" onclick="event.preventDefault();openBrief()">Быстрая заявка</a></li>
  </ul>
  <button class="burger" onclick="toggleMenu()" aria-label="Меню">
    <span></span><span></span><span></span>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <a href="/#services" onclick="closeMenu()">Услуги</a>
  <a href="/#pricing" onclick="closeMenu()">Цены</a>
  <a href="/#materials" onclick="closeMenu()">Полезное</a>
  <a href="/#faq" onclick="closeMenu()">FAQ</a>
  <a href="/#contact" onclick="closeMenu()">Контакты</a>
  <button class="nav-cta" onclick="closeMenu();openBrief()">Быстрая заявка</button>
</div>
<div class="mobile-overlay" id="mobileOverlay" onclick="closeMenu()"></div>

<div class="bf-progress-wrap">
  <div class="bf-progress-bar" id="bfProgressBar" style="width: 11.1%"></div>
</div>
<span class="bf-save" id="bfSaveIndicator">Сохранено</span>

<main class="brief-wrap">

  <div class="brief-hero">
    <div class="label">Подробный бриф</div>
    <h1>Расскажите о <span>вашем проекте</span></h1>
    <p>Заполните 8 шагов — и мы подготовим точное коммерческое предложение по срокам, стоимости и решению.</p>
  </div>

  <div class="bf-steps-nav" id="bfStepsNav">
    <button class="bf-dot active" data-step="0"><span>1</span></button>
    <button class="bf-dot" data-step="1"><span>2</span></button>
    <button class="bf-dot" data-step="2"><span>3</span></button>
    <button class="bf-dot" data-step="3"><span>4</span></button>
    <button class="bf-dot" data-step="4"><span>5</span></button>
    <button class="bf-dot" data-step="5"><span>6</span></button>
    <button class="bf-dot" data-step="6"><span>7</span></button>
    <button class="bf-dot" data-step="7"><span>8</span></button>
    <button class="bf-dot" data-step="8"><span>&#10022;</span></button>
  </div>

  <form id="bfForm" novalidate>

    <!-- Honeypot -->
    <div class="bf-hp" aria-hidden="true">
      <input type="text" name="website" tabindex="-1" autocomplete="off">
    </div>
    <input type="hidden" name="_loadTime" id="bfLoadTime">

    <!-- Step 0: Контакты -->
    <section class="bf-step active" data-step="0">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 1 из 8</div>
        <h2 class="bf-step-title">Контактная информация</h2>
        <p class="bf-step-desc">Как с вами связаться для обсуждения проекта</p>
      </div>
      <div class="bf-card">
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_name">Имя и фамилия <span class="req">*</span></label>
            <input class="bf-input" type="text" id="bf_name" name="name" placeholder="Иван Петров" required>
            <div class="bf-err">Укажите ваше имя</div>
          </div>
          <div class="bf-field">
            <label for="bf_company">Компания <span class="req">*</span></label>
            <input class="bf-input" type="text" id="bf_company" name="company" placeholder="ООО «Ромашка»" required>
            <div class="bf-err">Укажите название компании</div>
          </div>
        </div>
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_position">Должность</label>
            <input class="bf-input" type="text" id="bf_position" name="position" placeholder="Директор по маркетингу">
          </div>
          <div class="bf-field">
            <label for="bf_phone">Телефон <span class="req">*</span></label>
            <input class="bf-input" type="tel" id="bf_phone" name="phone" placeholder="+7 (999) 123-45-67" required>
            <div class="bf-err">Укажите номер телефона</div>
          </div>
        </div>
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_email">Email <span class="req">*</span></label>
            <input class="bf-input" type="email" id="bf_email" name="email" placeholder="ivan@company.ru" required>
            <div class="bf-err">Укажите корректный email</div>
          </div>
          <div class="bf-field">
            <label for="bf_telegram">Telegram <span class="opt">необязательно</span></label>
            <input class="bf-input" type="text" id="bf_telegram" name="telegram" placeholder="@username">
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_decision">Кто принимает финальное решение?</label>
          <select class="bf-select" id="bf_decision" name="decision_maker">
            <option value="">Выберите...</option>
            <option>Я сам(а)</option>
            <option>Генеральный директор</option>
            <option>Коллегиальное решение</option>
            <option>Другой человек</option>
          </select>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 1: Бизнес -->
    <section class="bf-step" data-step="1">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 2 из 8</div>
        <h2 class="bf-step-title">О вашем бизнесе</h2>
        <p class="bf-step-desc">Расскажите о компании, чтобы мы лучше поняли контекст</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label for="bf_business">Чем занимается компания? <span class="req">*</span></label>
          <textarea class="bf-textarea" id="bf_business" name="business_desc" placeholder="Опишите основной вид деятельности, продукты или услуги..." required></textarea>
          <div class="bf-err">Опишите деятельность компании</div>
        </div>
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_industry">Сфера деятельности <span class="req">*</span></label>
            <select class="bf-select" id="bf_industry" name="industry" required>
              <option value="">Выберите сферу...</option>
              <option>Интернет-торговля</option>
              <option>Услуги (B2C)</option>
              <option>B2B / Промышленность</option>
              <option>IT / SaaS</option>
              <option>Медицина / Здоровье</option>
              <option>Образование</option>
              <option>Недвижимость</option>
              <option>HoReCa (рестораны, отели)</option>
              <option>Финансы / Страхование</option>
              <option>Строительство / Ремонт</option>
              <option>Красота / Wellness</option>
              <option>Авто</option>
              <option>Туризм / Путешествия</option>
              <option>Госсектор</option>
              <option>Другое</option>
            </select>
            <div class="bf-err">Выберите сферу деятельности</div>
          </div>
          <div class="bf-field">
            <label for="bf_years">Сколько лет на рынке?</label>
            <select class="bf-select" id="bf_years" name="years">
              <option value="">Выберите...</option>
              <option>Стартап (менее года)</option>
              <option>1–3 года</option>
              <option>3–10 лет</option>
              <option>Более 10 лет</option>
            </select>
          </div>
        </div>
        <div class="bf-field">
          <label>География работы <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="geo" id="bf_geo1" value="Один город"><label for="bf_geo1">Один город</label></div>
            <div class="bf-opt"><input type="checkbox" name="geo" id="bf_geo2" value="Регион"><label for="bf_geo2">Регион</label></div>
            <div class="bf-opt"><input type="checkbox" name="geo" id="bf_geo3" value="Вся Россия"><label for="bf_geo3">Вся Россия</label></div>
            <div class="bf-opt"><input type="checkbox" name="geo" id="bf_geo4" value="СНГ"><label for="bf_geo4">СНГ</label></div>
            <div class="bf-opt"><input type="checkbox" name="geo" id="bf_geo5" value="Весь мир"><label for="bf_geo5">Весь мир</label></div>
          </div>
          <div class="bf-err">Выберите хотя бы один вариант</div>
        </div>
        <div class="bf-field">
          <label for="bf_utp">Чем вы отличаетесь от конкурентов?</label>
          <textarea class="bf-textarea" id="bf_utp" name="utp" placeholder="Что выделяет вас на фоне конкурентов..."></textarea>
        </div>
        <div class="bf-field">
          <label>Сайты конкурентов</label>
          <div class="bf-url-list" id="bfCompUrls">
            <div class="bf-url-row">
              <input class="bf-input" type="url" name="competitorUrls" placeholder="https://competitor.ru">
              <button type="button" class="bf-url-add" onclick="bfAddUrl(this)">+</button>
            </div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_cursite">Текущий сайт (если есть)</label>
          <input class="bf-input" type="url" id="bf_cursite" name="current_site" placeholder="https://yoursite.ru">
        </div>
        <div class="bf-field">
          <label>Что не устраивает в текущем сайте?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr1" value="Устаревший дизайн"><label for="bf_pr1">Устаревший дизайн</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr2" value="Не адаптивный"><label for="bf_pr2">Не адаптивный</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr3" value="Медленный"><label for="bf_pr3">Медленный</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr4" value="Плохо в поиске"><label for="bf_pr4">Плохо в поиске</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr5" value="Сложно редактировать"><label for="bf_pr5">Сложно редактировать</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr6" value="Мало заявок"><label for="bf_pr6">Мало заявок</label></div>
            <div class="bf-opt"><input type="checkbox" name="problems" id="bf_pr7" value="Сайта нет"><label for="bf_pr7">Сайта нет</label></div>
          </div>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 2: Аудитория -->
    <section class="bf-step" data-step="2">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 3 из 8</div>
        <h2 class="bf-step-title">Целевая аудитория</h2>
        <p class="bf-step-desc">Кто ваши клиенты? Это поможет нам продумать UX</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Тип клиентов <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="client_type" id="bf_ct1" value="B2C (физлица)" required><label for="bf_ct1">B2C (физлица)</label></div>
            <div class="bf-opt"><input type="radio" name="client_type" id="bf_ct2" value="B2B (компании)"><label for="bf_ct2">B2B (компании)</label></div>
            <div class="bf-opt"><input type="radio" name="client_type" id="bf_ct3" value="Оба типа"><label for="bf_ct3">Оба типа</label></div>
          </div>
          <div class="bf-err">Выберите тип клиентов</div>
        </div>
        <div class="bf-field">
          <label>Возраст аудитории</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="age" id="bf_age1" value="18-25"><label for="bf_age1">18–25</label></div>
            <div class="bf-opt"><input type="checkbox" name="age" id="bf_age2" value="25-35"><label for="bf_age2">25–35</label></div>
            <div class="bf-opt"><input type="checkbox" name="age" id="bf_age3" value="35-50"><label for="bf_age3">35–50</label></div>
            <div class="bf-opt"><input type="checkbox" name="age" id="bf_age4" value="50+"><label for="bf_age4">50+</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_income">Уровень дохода</label>
          <select class="bf-select" id="bf_income" name="income">
            <option value="">Выберите...</option>
            <option>Эконом-сегмент</option>
            <option>Средний</option>
            <option>Выше среднего</option>
            <option>Премиум</option>
            <option>Смешанный</option>
          </select>
        </div>
        <div class="bf-field">
          <label>Откуда приходят клиенты?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src1" value="Поиск (Яндекс/Google)"><label for="bf_src1">Поиск</label></div>
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src2" value="Соцсети"><label for="bf_src2">Соцсети</label></div>
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src3" value="Реклама"><label for="bf_src3">Реклама</label></div>
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src4" value="Сарафанное радио"><label for="bf_src4">Сарафанное радио</label></div>
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src5" value="Офлайн"><label for="bf_src5">Офлайн</label></div>
            <div class="bf-opt"><input type="checkbox" name="source" id="bf_src6" value="Маркетплейсы"><label for="bf_src6">Маркетплейсы</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>С каких устройств заходят?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="device" id="bf_dev1" value="В основном телефон"><label for="bf_dev1">Телефон</label></div>
            <div class="bf-opt"><input type="radio" name="device" id="bf_dev2" value="В основном десктоп"><label for="bf_dev2">Десктоп</label></div>
            <div class="bf-opt"><input type="radio" name="device" id="bf_dev3" value="Примерно поровну"><label for="bf_dev3">Поровну</label></div>
            <div class="bf-opt"><input type="radio" name="device" id="bf_dev4" value="Не знаю"><label for="bf_dev4">Не знаю</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_pains">Какие боли/возражения у клиентов?</label>
          <textarea class="bf-textarea" id="bf_pains" name="pains" placeholder="Что останавливает клиентов от покупки или заявки..."></textarea>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 3: Цели -->
    <section class="bf-step" data-step="3">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 4 из 8</div>
        <h2 class="bf-step-title">Цели и задачи</h2>
        <p class="bf-step-desc">Что вы хотите получить от нового сайта?</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Главная цель сайта <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="main_goal" id="bf_mg1" value="Сбор заявок" required><label for="bf_mg1">Сбор заявок</label></div>
            <div class="bf-opt"><input type="radio" name="main_goal" id="bf_mg2" value="Онлайн-продажи"><label for="bf_mg2">Онлайн-продажи</label></div>
            <div class="bf-opt"><input type="radio" name="main_goal" id="bf_mg3" value="Имидж / представительство"><label for="bf_mg3">Имидж</label></div>
            <div class="bf-opt"><input type="radio" name="main_goal" id="bf_mg4" value="Информирование"><label for="bf_mg4">Информирование</label></div>
          </div>
          <div class="bf-err">Выберите главную цель</div>
        </div>
        <div class="bf-field">
          <label>Целевое действие пользователя <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act1" value="Оставить заявку"><label for="bf_act1">Оставить заявку</label></div>
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act2" value="Позвонить"><label for="bf_act2">Позвонить</label></div>
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act3" value="Купить онлайн"><label for="bf_act3">Купить онлайн</label></div>
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act4" value="Зарегистрироваться"><label for="bf_act4">Зарегистрироваться</label></div>
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act5" value="Написать в чат"><label for="bf_act5">Написать в чат</label></div>
            <div class="bf-opt"><input type="checkbox" name="action" id="bf_act6" value="Скачать материал"><label for="bf_act6">Скачать материал</label></div>
          </div>
          <div class="bf-err">Выберите хотя бы одно действие</div>
        </div>
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_leads">Сколько заявок/продаж в месяц хотите?</label>
            <input class="bf-input" type="text" id="bf_leads" name="target_leads" placeholder="Например: 50 заявок">
          </div>
          <div class="bf-field">
            <label for="bf_check">Средний чек / стоимость услуги</label>
            <input class="bf-input" type="text" id="bf_check" name="avg_check" placeholder="Например: 15 000 руб.">
          </div>
        </div>
        <div class="bf-field">
          <label>Планируете продвижение?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="promo" id="bf_pm1" value="SEO"><label for="bf_pm1">SEO</label></div>
            <div class="bf-opt"><input type="checkbox" name="promo" id="bf_pm2" value="Яндекс.Директ"><label for="bf_pm2">Яндекс.Директ</label></div>
            <div class="bf-opt"><input type="checkbox" name="promo" id="bf_pm3" value="Соцсети / SMM"><label for="bf_pm3">Соцсети / SMM</label></div>
            <div class="bf-opt"><input type="checkbox" name="promo" id="bf_pm4" value="Пока не планирую"><label for="bf_pm4">Пока не планирую</label></div>
          </div>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 4: Функционал -->
    <section class="bf-step" data-step="4">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 5 из 8</div>
        <h2 class="bf-step-title">Функциональность</h2>
        <p class="bf-step-desc">Какой тип проекта и какие функции нужны</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Тип проекта <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st1" value="Лендинг" required><label for="bf_st1">Лендинг</label></div>
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st2" value="Корпоративный сайт"><label for="bf_st2">Корпоративный сайт</label></div>
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st3" value="Интернет-магазин"><label for="bf_st3">Интернет-магазин</label></div>
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st4" value="Портал / Сервис"><label for="bf_st4">Портал / Сервис</label></div>
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st5" value="Мобильное приложение"><label for="bf_st5">Моб. приложение</label></div>
            <div class="bf-opt"><input type="radio" name="site_type" id="bf_st6" value="Telegram-бот"><label for="bf_st6">Telegram-бот</label></div>
          </div>
          <div class="bf-err">Выберите тип проекта</div>
        </div>
        <div class="bf-field">
          <label>Какие разделы нужны?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec1" value="О компании"><label for="bf_sec1">О компании</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec2" value="Услуги / Продукция"><label for="bf_sec2">Услуги</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec3" value="Каталог"><label for="bf_sec3">Каталог</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec4" value="Портфолио / Кейсы"><label for="bf_sec4">Портфолио</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec5" value="Блог / Новости"><label for="bf_sec5">Блог</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec6" value="Контакты"><label for="bf_sec6">Контакты</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec7" value="FAQ"><label for="bf_sec7">FAQ</label></div>
            <div class="bf-opt"><input type="checkbox" name="sections" id="bf_sec8" value="Отзывы"><label for="bf_sec8">Отзывы</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Нужные функции</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft1" value="Корзина / оплата"><label for="bf_ft1">Корзина / оплата</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft2" value="Личный кабинет"><label for="bf_ft2">Личный кабинет</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft3" value="Калькулятор"><label for="bf_ft3">Калькулятор</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft4" value="Чат-бот / AI-ассистент"><label for="bf_ft4">Чат-бот / AI</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft5" value="Фильтры / поиск"><label for="bf_ft5">Фильтры / поиск</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft6" value="Карта"><label for="bf_ft6">Карта</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft7" value="Мультиязычность"><label for="bf_ft7">Мультиязычность</label></div>
            <div class="bf-opt"><input type="checkbox" name="features" id="bf_ft8" value="Бронирование / запись"><label for="bf_ft8">Бронирование</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Интеграции</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int1" value="CRM (Битрикс24/AmoCRM)"><label for="bf_int1">CRM</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int2" value="1С Бухгалтерия"><label for="bf_int2">1С</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int3" value="Онлайн-оплата"><label for="bf_int3">Онлайн-оплата</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int4" value="Доставка (СДЭК/ПЭК)"><label for="bf_int4">Доставка</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int5" value="Телефония"><label for="bf_int5">Телефония</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int6" value="Аналитика (Метрика)"><label for="bf_int6">Аналитика</label></div>
            <div class="bf-opt"><input type="checkbox" name="integrations" id="bf_int7" value="Email-рассылки"><label for="bf_int7">Email-рассылки</label></div>
          </div>
        </div>
        <div class="bf-row">
          <div class="bf-field">
            <label for="bf_catsize">Количество товаров/услуг</label>
            <select class="bf-select" id="bf_catsize" name="catalog_size">
              <option value="">Выберите...</option>
              <option>Нет каталога</option>
              <option>До 50</option>
              <option>50–500</option>
              <option>500–5000</option>
              <option>Более 5000</option>
            </select>
          </div>
          <div class="bf-field">
            <label>Предпочтения по CMS</label>
            <div class="bf-opts">
              <div class="bf-opt"><input type="radio" name="cms" id="bf_cms1" value="1С-Битрикс"><label for="bf_cms1">1С-Битрикс</label></div>
              <div class="bf-opt"><input type="radio" name="cms" id="bf_cms2" value="Tilda"><label for="bf_cms2">Tilda</label></div>
              <div class="bf-opt"><input type="radio" name="cms" id="bf_cms3" value="WordPress"><label for="bf_cms3">WordPress</label></div>
              <div class="bf-opt"><input type="radio" name="cms" id="bf_cms4" value="Кастомная разработка"><label for="bf_cms4">Кастом</label></div>
              <div class="bf-opt"><input type="radio" name="cms" id="bf_cms5" value="На ваше усмотрение"><label for="bf_cms5">На ваше усмотрение</label></div>
            </div>
          </div>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 5: Дизайн -->
    <section class="bf-step" data-step="5">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 6 из 8</div>
        <h2 class="bf-step-title">Дизайн и визуал</h2>
        <p class="bf-step-desc">Какой стиль вам близок и есть ли примеры</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Есть ли фирменный стиль/брендбук?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="brand" id="bf_br1" value="Да, полный брендбук"><label for="bf_br1">Полный брендбук</label></div>
            <div class="bf-opt"><input type="radio" name="brand" id="bf_br2" value="Только логотип и цвета"><label for="bf_br2">Лого и цвета</label></div>
            <div class="bf-opt"><input type="radio" name="brand" id="bf_br3" value="Нет, нужно разработать"><label for="bf_br3">Нужно разработать</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Какой стиль вам ближе? <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="style" id="bf_sty1" value="Минимализм" required><label for="bf_sty1">Минимализм</label></div>
            <div class="bf-opt"><input type="radio" name="style" id="bf_sty2" value="Деловой / строгий"><label for="bf_sty2">Деловой</label></div>
            <div class="bf-opt"><input type="radio" name="style" id="bf_sty3" value="Современный / яркий"><label for="bf_sty3">Современный</label></div>
            <div class="bf-opt"><input type="radio" name="style" id="bf_sty4" value="Премиальный"><label for="bf_sty4">Премиальный</label></div>
            <div class="bf-opt"><input type="radio" name="style" id="bf_sty5" value="Креативный / нестандартный"><label for="bf_sty5">Креативный</label></div>
          </div>
          <div class="bf-err">Выберите стиль</div>
        </div>
        <div class="bf-field">
          <label>Сайты, которые нравятся (2–5 примеров)</label>
          <div class="bf-url-list" id="bfLikeUrls">
            <div class="bf-url-row">
              <input class="bf-input" type="url" name="likeUrls" placeholder="https://example.com">
              <button type="button" class="bf-url-add" onclick="bfAddUrl(this)">+</button>
            </div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_likewhy">Что именно нравится в этих сайтах?</label>
          <textarea class="bf-textarea" id="bf_likewhy" name="like_why" placeholder="Дизайн, анимации, структура, подача контента..."></textarea>
        </div>
        <div class="bf-field">
          <label>Сайты, которые НЕ нравятся</label>
          <div class="bf-url-list" id="bfDislikeUrls">
            <div class="bf-url-row">
              <input class="bf-input" type="url" name="dislikeUrls" placeholder="https://example.com">
              <button type="button" class="bf-url-add" onclick="bfAddUrl(this)">+</button>
            </div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_dislikewhy">Что не нравится?</label>
          <textarea class="bf-textarea" id="bf_dislikewhy" name="dislike_why" placeholder="Что раздражает или отталкивает..."></textarea>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 6: Контент -->
    <section class="bf-step" data-step="6">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 7 из 8</div>
        <h2 class="bf-step-title">Контент</h2>
        <p class="bf-step-desc">Тексты, фото, видео — что уже есть и что нужно</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Кто будет готовить тексты? <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="texts" id="bf_tx1" value="Мы сами предоставим" required><label for="bf_tx1">Мы сами</label></div>
            <div class="bf-opt"><input type="radio" name="texts" id="bf_tx2" value="Поручим студии"><label for="bf_tx2">Студия напишет</label></div>
            <div class="bf-opt"><input type="radio" name="texts" id="bf_tx3" value="Совместно"><label for="bf_tx3">Совместно</label></div>
          </div>
          <div class="bf-err">Выберите вариант</div>
        </div>
        <div class="bf-field">
          <label>Есть ли готовые материалы?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat1" value="Фото продукции"><label for="bf_mat1">Фото продукции</label></div>
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat2" value="Фото команды"><label for="bf_mat2">Фото команды</label></div>
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat3" value="Видео"><label for="bf_mat3">Видео</label></div>
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat4" value="Готовые тексты"><label for="bf_mat4">Готовые тексты</label></div>
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat5" value="Данные каталога (Excel/1С)"><label for="bf_mat5">Каталог (Excel/1С)</label></div>
            <div class="bf-opt"><input type="checkbox" name="materials" id="bf_mat6" value="Ничего нет"><label for="bf_mat6">Ничего нет</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Кто будет обновлять сайт?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="updater" id="bf_upd1" value="Наш сотрудник"><label for="bf_upd1">Наш сотрудник</label></div>
            <div class="bf-opt"><input type="radio" name="updater" id="bf_upd2" value="Студия (поддержка)"><label for="bf_upd2">Студия</label></div>
            <div class="bf-opt"><input type="radio" name="updater" id="bf_upd3" value="Совместно"><label for="bf_upd3">Совместно</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Нужна ли фото/видеосъёмка?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="photoshoot" id="bf_ph1" value="Да, нужна"><label for="bf_ph1">Да, нужна</label></div>
            <div class="bf-opt"><input type="radio" name="photoshoot" id="bf_ph2" value="Нет, есть свои"><label for="bf_ph2">Есть свои</label></div>
            <div class="bf-opt"><input type="radio" name="photoshoot" id="bf_ph3" value="Стоковые фото"><label for="bf_ph3">Стоковые фото</label></div>
          </div>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">Далее</button>
      </div>
    </section>

    <!-- Step 7: Бюджет -->
    <section class="bf-step" data-step="7">
      <div class="bf-step-header">
        <div class="bf-step-num">Шаг 8 из 8</div>
        <h2 class="bf-step-title">Бюджет и сроки</h2>
        <p class="bf-step-desc">Финансовые рамки и желаемые сроки запуска</p>
      </div>
      <div class="bf-card">
        <div class="bf-field">
          <label>Бюджет на разработку <span class="req">*</span></label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="budget" id="bf_bud1" value="50–150 тыс. руб." required><label for="bf_bud1">50–150 тыс. руб.</label></div>
            <div class="bf-opt"><input type="radio" name="budget" id="bf_bud2" value="150–500 тыс. руб."><label for="bf_bud2">150–500 тыс. руб.</label></div>
            <div class="bf-opt"><input type="radio" name="budget" id="bf_bud3" value="500 тыс. — 1.5 млн руб."><label for="bf_bud3">500 тыс. — 1.5 млн</label></div>
            <div class="bf-opt"><input type="radio" name="budget" id="bf_bud4" value="Более 1.5 млн руб."><label for="bf_bud4">Более 1.5 млн руб.</label></div>
            <div class="bf-opt"><input type="radio" name="budget" id="bf_bud5" value="Обсудим после оценки"><label for="bf_bud5">Обсудим</label></div>
          </div>
          <div class="bf-err">Укажите примерный бюджет</div>
        </div>
        <div class="bf-field">
          <label>Желаемые сроки запуска</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="timeline" id="bf_tl1" value="Как можно скорее"><label for="bf_tl1">Скорее</label></div>
            <div class="bf-opt"><input type="radio" name="timeline" id="bf_tl2" value="1 месяц"><label for="bf_tl2">1 месяц</label></div>
            <div class="bf-opt"><input type="radio" name="timeline" id="bf_tl3" value="2–3 месяца"><label for="bf_tl3">2–3 месяца</label></div>
            <div class="bf-opt"><input type="radio" name="timeline" id="bf_tl4" value="Без жёстких сроков"><label for="bf_tl4">Без сроков</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_deadline">Есть ли жёсткий дедлайн?</label>
          <input class="bf-input" type="text" id="bf_deadline" name="deadline" placeholder="Например: 1 сентября — к началу сезона">
        </div>
        <div class="bf-field">
          <label>Удобная форма оплаты</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="payment" id="bf_pay1" value="Поэтапно (50/25/25)"><label for="bf_pay1">Поэтапно</label></div>
            <div class="bf-opt"><input type="radio" name="payment" id="bf_pay2" value="Ежемесячно"><label for="bf_pay2">Ежемесячно</label></div>
            <div class="bf-opt"><input type="radio" name="payment" id="bf_pay3" value="100% предоплата"><label for="bf_pay3">100% предоплата</label></div>
            <div class="bf-opt"><input type="radio" name="payment" id="bf_pay4" value="Обсудим"><label for="bf_pay4">Обсудим</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label>Нужна ли ежемесячная поддержка?</label>
          <div class="bf-opts">
            <div class="bf-opt"><input type="radio" name="support" id="bf_sup1" value="Да"><label for="bf_sup1">Да</label></div>
            <div class="bf-opt"><input type="radio" name="support" id="bf_sup2" value="Возможно"><label for="bf_sup2">Возможно</label></div>
            <div class="bf-opt"><input type="radio" name="support" id="bf_sup3" value="Нет, справимся"><label for="bf_sup3">Нет</label></div>
          </div>
        </div>
        <div class="bf-field">
          <label for="bf_comments">Дополнительные комментарии</label>
          <textarea class="bf-textarea" id="bf_comments" name="comments" placeholder="Что ещё важно учесть при разработке..."></textarea>
        </div>
      </div>
      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="button" class="bf-btn bf-btn-pri bf-next">К сводке</button>
      </div>
    </section>

    <!-- Step 8: Сводка -->
    <section class="bf-step" data-step="8">
      <div class="bf-step-header">
        <div class="bf-step-num">Проверьте данные</div>
        <h2 class="bf-step-title">Сводка брифа</h2>
        <p class="bf-step-desc">Убедитесь, что всё верно, и отправьте</p>
      </div>
      <div class="bf-card" id="bfSummary"></div>

      <div class="bf-consent">
        <input type="checkbox" id="bfConsent" required>
        <span>Я соглашаюсь на обработку персональных данных в соответствии с <a href="/privacy.html" target="_blank">политикой конфиденциальности</a></span>
      </div>

      <div class="bf-submit-err" id="bfSubmitErr"></div>

      <div class="bf-nav">
        <button type="button" class="bf-btn bf-btn-sec bf-prev">Назад</button>
        <button type="submit" class="bf-btn bf-btn-pri" id="bfSubmitBtn">Отправить бриф</button>
      </div>
    </section>

  </form>

  <!-- Success screen (inline, no redirect) -->
  <div class="bf-success" id="bfSuccess">
    <div class="bf-success-icon">&#10003;</div>
    <h2>Бриф отправлен!</h2>
    <p>Мы получили ваш бриф и свяжемся с вами в ближайшее время для обсуждения деталей.</p>
    <a href="/">Вернуться на сайт</a>
  </div>

</main>

<!-- Footer from main site -->
<footer>
  <p>Devorra &copy; 2025-2026 &middot; Эпоха разработки</p>
  <p class="footer-privacy"><a href="/privacy.html">Политика конфиденциальности</a></p>
  <p class="footer-sources">ИП Аландаренко Н.В. &middot; ОГРНИП 323237500263053</p>
</footer>

<script>
(function() {
  'use strict';

  var STORAGE_KEY = 'devorra_full_brief';
  var TOTAL_STEPS = 9; // 0..8
  var currentStep = 0;

  var form = document.getElementById('bfForm');
  var steps = form.querySelectorAll('.bf-step');
  var dots = document.querySelectorAll('.bf-dot');
  var progressBar = document.getElementById('bfProgressBar');
  var saveIndicator = document.getElementById('bfSaveIndicator');
  var submitBtn = document.getElementById('bfSubmitBtn');
  var submitError = document.getElementById('bfSubmitErr');

  // Record load time for bot detection
  document.getElementById('bfLoadTime').value = Date.now();

  // ── localStorage ──────────────────────────────────

  function saveToStorage() {
    var data = collectAllFields();
    data._step = currentStep;
    try { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); } catch(e) {}
    showSave();
  }

  function loadFromStorage() {
    try {
      var raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return;
      var data = JSON.parse(raw);

      if (typeof data._step === 'number' && data._step >= 0 && data._step < TOTAL_STEPS) {
        currentStep = data._step;
      }

      var keys = Object.keys(data);
      for (var k = 0; k < keys.length; k++) {
        var key = keys[k];
        if (key.charAt(0) === '_') continue;
        var value = data[key];

        if (Array.isArray(value)) {
          var inputs = form.querySelectorAll('[name="' + key + '"]');
          if (inputs.length && inputs[0].type === 'checkbox') {
            for (var i = 0; i < inputs.length; i++) {
              inputs[i].checked = value.indexOf(inputs[i].value) !== -1;
            }
          } else if (inputs.length && inputs[0].type === 'url') {
            var list = inputs[0].closest('.bf-url-list');
            if (list) {
              while (list.querySelectorAll('.bf-url-row').length < value.length) {
                bfAddUrl(list.querySelector('.bf-url-add'));
              }
              var urlInputs = list.querySelectorAll('input[type="url"]');
              for (var j = 0; j < value.length; j++) {
                if (urlInputs[j]) urlInputs[j].value = value[j];
              }
            }
          }
        } else {
          var el = form.querySelector('[name="' + key + '"]');
          if (!el) continue;
          if (el.type === 'radio') {
            var radio = form.querySelector('[name="' + key + '"][value="' + value + '"]');
            if (radio) radio.checked = true;
          } else {
            el.value = value;
          }
        }
      }
    } catch(e) {}
  }

  var saveTimer2;
  function showSave() {
    saveIndicator.classList.add('visible');
    clearTimeout(saveTimer2);
    saveTimer2 = setTimeout(function() { saveIndicator.classList.remove('visible'); }, 1500);
  }

  // ── Field collection ──────────────────────────────

  function collectAllFields() {
    var data = {};
    var inputs = form.querySelectorAll('input, textarea, select');

    for (var i = 0; i < inputs.length; i++) {
      var el = inputs[i];
      var name = el.name;
      if (!name || name === 'website' || name === '_loadTime') continue;

      if (el.type === 'checkbox') {
        if (!data[name]) data[name] = [];
        if (el.checked) data[name].push(el.value);
      } else if (el.type === 'radio') {
        if (el.checked) data[name] = el.value;
      } else {
        var existing = form.querySelectorAll('[name="' + name + '"]');
        if (existing.length > 1 && el.type === 'url') {
          if (!data[name]) {
            data[name] = [];
            for (var j = 0; j < existing.length; j++) {
              if (existing[j].value.trim()) data[name].push(existing[j].value.trim());
            }
          }
        } else {
          data[name] = el.value;
        }
      }
    }
    return data;
  }

  // ── Navigation ────────────────────────────────────

  function goToStep(n) {
    if (n < 0 || n >= TOTAL_STEPS) return;

    // Mark completed (if all required fields filled)
    if (n > currentStep && validateStep(currentStep, true)) dots[currentStep].classList.add('completed');

    currentStep = n;
    saveToStorage();

    // Update UI
    for (var i = 0; i < steps.length; i++) steps[i].classList.remove('active');
    for (var j = 0; j < dots.length; j++) dots[j].classList.remove('active');
    steps[currentStep].classList.add('active');
    dots[currentStep].classList.add('active');

    // Progress
    progressBar.style.width = ((currentStep + 1) / TOTAL_STEPS * 100) + '%';

    window.scrollTo({ top: 0, behavior: 'smooth' });

    // Build summary on last step
    if (currentStep === 8) buildSummary();

    // Scroll dot into view
    dots[currentStep].scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
  }

  // ── Validation ────────────────────────────────────

  var stepReqs = {
    0: ['name', 'company', 'phone', 'email'],
    1: ['business_desc', 'industry', 'geo'],
    2: ['client_type'],
    3: ['main_goal', 'action'],
    4: ['site_type'],
    5: ['style'],
    6: ['texts'],
    7: ['budget'],
    8: []
  };

  function validateStep(stepIndex, silent) {
    var required = stepReqs[stepIndex] || [];
    var valid = true;

    // Clear old errors
    var errFields = steps[stepIndex].querySelectorAll('.bf-field.has-error');
    for (var i = 0; i < errFields.length; i++) errFields[i].classList.remove('has-error');

    for (var r = 0; r < required.length; r++) {
      var name = required[r];
      var els = form.querySelectorAll('[name="' + name + '"]');
      if (!els.length) continue;

      var first = els[0];
      var fieldValid = false;

      if (first.type === 'checkbox') {
        for (var c = 0; c < els.length; c++) { if (els[c].checked) { fieldValid = true; break; } }
      } else if (first.type === 'radio') {
        for (var d = 0; d < els.length; d++) { if (els[d].checked) { fieldValid = true; break; } }
      } else {
        fieldValid = first.value.trim() !== '';
        if (fieldValid && first.type === 'email') {
          fieldValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(first.value.trim());
        }
      }

      if (!fieldValid) {
        valid = false;
        if (!silent) {
          var field = first.closest('.bf-field');
          if (field) field.classList.add('has-error');
        }
      }
    }
    return valid;
  }

  // ── Summary ───────────────────────────────────────

  var labels = {
    name:'Имя', company:'Компания', position:'Должность', phone:'Телефон',
    email:'Email', telegram:'Telegram', decision_maker:'Решение',
    business_desc:'Деятельность', industry:'Сфера', years:'На рынке', geo:'География',
    utp:'УТП', competitorUrls:'Конкуренты', current_site:'Текущий сайт', problems:'Проблемы',
    client_type:'Клиенты', age:'Возраст', income:'Доход', source:'Источники',
    device:'Устройства', pains:'Боли',
    main_goal:'Цель', action:'Целевое действие', target_leads:'Заявок/мес', avg_check:'Средний чек', promo:'Продвижение',
    site_type:'Тип проекта', sections:'Разделы', features:'Функции', integrations:'Интеграции',
    catalog_size:'Товаров', cms:'CMS',
    brand:'Брендбук', style:'Стиль', likeUrls:'Нравятся', like_why:'Почему нравятся',
    dislikeUrls:'Не нравятся', dislike_why:'Почему не нравятся',
    texts:'Тексты', materials:'Материалы', updater:'Обновление', photoshoot:'Фотосъёмка',
    budget:'Бюджет', timeline:'Сроки', deadline:'Дедлайн', payment:'Оплата', support:'Поддержка', comments:'Комментарии'
  };

  var sectionNames = [
    'Контактная информация', 'О бизнесе', 'Целевая аудитория', 'Цели и задачи',
    'Функциональность', 'Дизайн', 'Контент', 'Бюджет и сроки'
  ];

  var sectionFields = [
    ['name','company','position','phone','email','telegram','decision_maker'],
    ['business_desc','industry','years','geo','utp','competitorUrls','current_site','problems'],
    ['client_type','age','income','source','device','pains'],
    ['main_goal','action','target_leads','avg_check','promo'],
    ['site_type','sections','features','integrations','catalog_size','cms'],
    ['brand','style','likeUrls','like_why','dislikeUrls','dislike_why'],
    ['texts','materials','updater','photoshoot'],
    ['budget','timeline','deadline','payment','support','comments']
  ];

  function buildSummary() {
    var data = collectAllFields();
    var container = document.getElementById('bfSummary');
    var html = '';

    for (var s = 0; s < sectionFields.length; s++) {
      var fields = sectionFields[s];
      var rows = '';
      for (var f = 0; f < fields.length; f++) {
        var key = fields[f];
        var val = data[key];
        if (!val || (Array.isArray(val) && val.length === 0)) continue;
        if (Array.isArray(val)) val = val.join(', ');
        rows += '<div class="bf-summary-row"><span class="bf-summary-lbl">' + (labels[key] || key) + '</span><span class="bf-summary-val">' + escHtml(val) + '</span></div>';
      }
      if (rows) {
        html += '<div class="bf-summary-sec"><h3>' + sectionNames[s] + '</h3>' + rows + '</div>';
      }
    }

    if (!html) html = '<p style="color:#9ca3af">Данные не заполнены</p>';
    container.innerHTML = html;
  }

  function escHtml(s) {
    var d = document.createElement('div');
    d.textContent = s;
    return d.innerHTML;
  }

  // ── Submit ────────────────────────────────────────

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    // Honeypot
    if (form.querySelector('[name="website"]').value) return;

    // Bot timing
    var loadTime = parseInt(document.getElementById('bfLoadTime').value, 10);
    if (Date.now() - loadTime < 5000) return;

    // Validate all steps
    for (var i = 0; i < 8; i++) {
      if (!validateStep(i)) {
        goToStep(i);
        submitError.textContent = 'Заполните обязательные поля на шаге ' + (i + 1);
        submitError.classList.add('visible');
        return;
      }
    }

    // Consent
    if (!document.getElementById('bfConsent').checked) {
      submitError.textContent = 'Необходимо согласие на обработку персональных данных';
      submitError.classList.add('visible');
      return;
    }

    submitError.classList.remove('visible');
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="bf-spinner"></span>Отправка...';

    var fields = collectAllFields();
    fields.brief_type = 'full';

    fetch('/api/send', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ fields: fields })
    })
    .then(function(r) { return r.json(); })
    .then(function(data) {
      if (data.ok) {
        try { localStorage.removeItem(STORAGE_KEY); } catch(e) {}
        form.style.display = 'none';
        document.querySelector('.bf-steps-nav').style.display = 'none';
        document.getElementById('bfSuccess').classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        throw new Error(data.error || 'Ошибка отправки');
      }
    })
    .catch(function(err) {
      submitError.textContent = (err.message || 'Ошибка отправки') + '. Попробуйте снова или напишите @myway_nikita';
      submitError.classList.add('visible');
      submitBtn.disabled = false;
      submitBtn.textContent = 'Отправить бриф';
    });
  });

  // ── Event listeners ───────────────────────────────

  form.addEventListener('click', function(e) {
    if (e.target.classList.contains('bf-next')) {
      goToStep(currentStep + 1);
    } else if (e.target.classList.contains('bf-prev')) {
      goToStep(currentStep - 1);
    }
  });

  document.getElementById('bfStepsNav').addEventListener('click', function(e) {
    var dot = e.target.closest('.bf-dot');
    if (!dot) return;
    var target = parseInt(dot.getAttribute('data-step'), 10);
    currentStep = target > 0 ? target - 1 : 0;
    goToStep(target);
  });

  // Auto-save
  var saveTimer;
  form.addEventListener('input', function(e) {
    clearTimeout(saveTimer);
    saveTimer = setTimeout(saveToStorage, 500);
    var field = e.target.closest('.bf-field');
    if (field) field.classList.remove('has-error');
  });
  form.addEventListener('change', function(e) {
    saveToStorage();
    var field = e.target.closest('.bf-field');
    if (field) field.classList.remove('has-error');
  });

  // ── URL lists ─────────────────────────────────────

  window.bfAddUrl = function(btn) {
    var list = btn.closest('.bf-url-list');
    var rows = list.querySelectorAll('.bf-url-row');
    if (rows.length >= 5) return;
    var name = list.querySelector('input[type="url"]').name;
    var row = document.createElement('div');
    row.className = 'bf-url-row';
    row.innerHTML = '<input class="bf-input" type="url" name="' + name + '" placeholder="https://example.com"><button type="button" class="bf-url-rm" onclick="bfRemoveUrl(this)">&times;</button>';
    list.appendChild(row);
  };

  window.bfRemoveUrl = function(btn) {
    btn.closest('.bf-url-row').remove();
    saveToStorage();
  };

  // ── Init ──────────────────────────────────────────

  loadFromStorage();
  goToStep(currentStep);

})();
</script>

<!-- Mobile menu toggle (for nav) -->
<script>
function toggleMenu() {
  var menu = document.getElementById('mobileMenu');
  var overlay = document.getElementById('mobileOverlay');
  var burger = document.querySelector('.burger');
  if (menu && overlay) {
    menu.classList.toggle('open');
    overlay.classList.toggle('open');
    if (burger) burger.classList.toggle('open');
    document.body.style.overflow = menu.classList.contains('open') ? 'hidden' : '';
  }
}
function closeMenu() {
  var menu = document.getElementById('mobileMenu');
  var overlay = document.getElementById('mobileOverlay');
  var burger = document.querySelector('.burger');
  if (menu) menu.classList.remove('open');
  if (overlay) overlay.classList.remove('open');
  if (burger) burger.classList.remove('open');
  document.body.style.overflow = '';
}
</script>

<script src="/brief.js"></script>
<script src="/chat.js" defer></script>
<script src="/cookie.js"></script>
</body>
</html>
