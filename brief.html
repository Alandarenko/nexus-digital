<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS Digital — Бриф на разработку</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#6366f1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap">
    <style>

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg: #0a0a0f;
            --bg2: #12121a;
            --bg-card: #1a1a25;
            --bg-input: #14141e;
            --accent: #6366f1;
            --accent-light: #818cf8;
            --accent-glow: rgba(99, 102, 241, 0.12);
            --text: #f1f1f4;
            --text2: #9ca3af;
            --text3: #6b7280;
            --border: #2a2a3a;
            --border-focus: #6366f1;
            --green: #22c55e;
            --red: #ef4444;
            --orange: #f59e0b;
            --gradient: linear-gradient(135deg, #6366f1, #8b5cf6);
            --gradient2: linear-gradient(135deg, #6366f1, #06b6d4);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 16px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-size: 20px;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .progress-bar {
            width: 200px;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 3px;
            transition: width 0.4s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 13px;
            color: var(--text3);
            font-weight: 500;
        }

        .container {
            max-width: 860px;
            margin: 0 auto;
            padding: 100px 24px 80px;
        }

        .brief-hero {
            text-align: center;
            padding: 60px 0 80px;
        }

        .brief-hero .label {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: var(--accent-light);
            margin-bottom: 16px;
        }

        .brief-hero h1 {
            font-size: 42px;
            font-weight: 800;
            letter-spacing: -1px;
            margin-bottom: 16px;
        }

        .brief-hero h1 span {
            background: var(--gradient2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .brief-hero p {
            font-size: 17px;
            color: var(--text2);
            max-width: 560px;
            margin: 0 auto;
            line-height: 1.7;
        }

        .steps-nav {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 4px;
            margin-bottom: 48px;
        }

        .step-btn {
            padding: 10px 4px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text3);
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
            white-space: nowrap;
            text-align: center;
        }

        .step-btn:hover {
            border-color: var(--accent);
            color: var(--text2);
        }

        .step-btn.active {
            background: var(--accent-glow);
            border-color: var(--accent);
            color: var(--accent-light);
        }

        .step-btn.completed {
            border-color: var(--green);
            color: var(--green);
        }

        .brief-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .brief-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-header {
            margin-bottom: 40px;
        }

        .section-header .num {
            font-size: 13px;
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 8px;
        }

        .section-header h2 {
            font-size: 28px;
            font-weight: 800;
            letter-spacing: -0.5px;
            margin-bottom: 8px;
        }

        .section-header p {
            font-size: 15px;
            color: var(--text3);
        }

        .field {
            margin-bottom: 28px;
        }

        .field label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
        }

        .field label .required {
            color: var(--red);
            margin-left: 2px;
        }

        .field label .optional {
            color: var(--text3);
            font-weight: 400;
            font-size: 13px;
            margin-left: 6px;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="url"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-family: inherit;
            font-size: 15px;
            transition: all 0.2s;
            outline: none;
        }

        input:focus,
        select:focus,
        textarea:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        input::placeholder,
        textarea::placeholder {
            color: var(--text3);
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236b7280' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            padding-right: 40px;
        }

        select option {
            background: var(--bg2);
            color: var(--text);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .check-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .check-item {
            position: relative;
        }

        .check-item input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .check-item label {
            display: block;
            padding: 10px 20px;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text2);
            transition: all 0.2s;
            user-select: none;
            margin-bottom: 0;
        }

        .check-item input:checked + label {
            background: var(--accent-glow);
            border-color: var(--accent);
            color: var(--accent-light);
        }

        .check-item label:hover {
            border-color: var(--accent);
        }

        .fields-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 640px) {
            .fields-row { grid-template-columns: 1fr; }
        }

        .url-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .url-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .url-row input {
            flex: 1;
        }

        .btn-add {
            padding: 8px 16px;
            background: var(--bg-card);
            border: 1px dashed var(--border);
            border-radius: 8px;
            color: var(--text3);
            font-size: 13px;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.2s;
        }

        .btn-add:hover {
            border-color: var(--accent);
            color: var(--accent-light);
        }

        .btn-remove {
            width: 36px;
            height: 36px;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text3);
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-remove:hover {
            border-color: var(--red);
            color: var(--red);
        }

        .range-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .range-value {
            font-size: 20px;
            font-weight: 700;
            background: var(--gradient2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            border: none;
            padding: 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 48px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
        }

        .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 10px;
            font-family: inherit;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text2);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent);
            color: var(--text);
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(34, 197, 94, 0.3);
        }

        .result-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
        }

        .result-card h3 {
            font-size: 16px;
            font-weight: 700;
            color: var(--accent-light);
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
            border-bottom: 1px solid rgba(42, 42, 58, 0.4);
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            color: var(--text3);
        }

        .result-value {
            color: var(--text);
            font-weight: 500;
            text-align: right;
            max-width: 60%;
        }

        .warnings {
            margin-top: 32px;
        }

        .warning-item {
            display: flex;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(239, 68, 68, 0.08);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text2);
            align-items: flex-start;
        }

        .warning-icon {
            color: var(--red);
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .tip-item {
            display: flex;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(34, 197, 94, 0.08);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text2);
        }

        .tip-icon {
            color: var(--green);
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        @media print {
            .header, .steps-nav, .nav-buttons, .btn { display: none !important; }
            body { background: white; color: #111; }
            .container { padding: 0; }
            .brief-section { display: block !important; }
            .result-card { border: 1px solid #ddd; break-inside: avoid; }
        }

        @media (max-width: 640px) {
            .header { padding: 12px 16px; }
            .progress-bar { width: 120px; }
            .brief-hero h1 { font-size: 28px; }
            .steps-nav { gap: 6px; }
            .step-btn { padding: 8px 14px; font-size: 12px; }
        }
    </style>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=106813146', 'ym');
    ym(106813146, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/106813146" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
</head>
<body>

    <div class="header">
        <div class="logo">NEXUS Digital</div>
        <div class="header-right">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <span class="progress-text" id="progressText">0 / 8</span>
        </div>
    </div>

    <div class="container">

        <div class="brief-hero">
            <div class="label">Бриф на разработку</div>
            <h1>Расскажите о <span>вашем проекте</span></h1>
            <p>Заполните бриф, чтобы мы могли точно оценить сроки, стоимость и предложить оптимальное решение — сайт, приложение или бот.</p>
        </div>

        <div class="steps-nav" id="stepsNav">
            <button class="step-btn active" onclick="goToStep(0)">1. Контакты</button>
            <button class="step-btn" onclick="goToStep(1)">2. Бизнес</button>
            <button class="step-btn" onclick="goToStep(2)">3. Аудитория</button>
            <button class="step-btn" onclick="goToStep(3)">4. Цели</button>
            <button class="step-btn" onclick="goToStep(4)">5. Функционал</button>
            <button class="step-btn" onclick="goToStep(5)">6. Дизайн</button>
            <button class="step-btn" onclick="goToStep(6)">7. Контент</button>
            <button class="step-btn" onclick="goToStep(7)">8. Бюджет</button>
        </div>

        <div class="brief-section active" id="step0">
            <div class="section-header">
                <div class="num">Шаг 1 из 8</div>
                <h2>Контактная информация</h2>
                <p>Как с вами связаться и кто принимает решения по проекту</p>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Имя и фамилия <span class="required">*</span></label>
                    <input type="text" name="name" placeholder="Иван Петров">
                </div>
                <div class="field">
                    <label>Компания <span class="required">*</span></label>
                    <input type="text" name="company" placeholder="ООО «Ромашка»">
                </div>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Должность</label>
                    <input type="text" name="position" placeholder="Директор по маркетингу">
                </div>
                <div class="field">
                    <label>Телефон <span class="required">*</span></label>
                    <input type="tel" name="phone" placeholder="+7 (999) 123-45-67">
                </div>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Email <span class="required">*</span></label>
                    <input type="email" name="email" placeholder="ivan@company.ru">
                </div>
                <div class="field">
                    <label>Telegram <span class="optional">необязательно</span></label>
                    <input type="text" name="telegram" placeholder="@username">
                </div>
            </div>

            <div class="field">
                <label>Кто принимает финальное решение по проекту?</label>
                <select name="decision_maker">
                    <option value="">Выберите вариант</option>
                    <option value="me">Я сам(а)</option>
                    <option value="director">Генеральный директор</option>
                    <option value="team">Коллегиальное решение (несколько человек)</option>
                    <option value="other">Другой человек (укажу позже)</option>
                </select>
            </div>

            <div class="nav-buttons">
                <div></div>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step1">
            <div class="section-header">
                <div class="num">Шаг 2 из 8</div>
                <h2>О вашем бизнесе</h2>
                <p>Поможет нам погрузиться в вашу специфику и предложить точное решение</p>
            </div>

            <div class="field">
                <label>Чем занимается компания? <span class="required">*</span></label>
                <textarea name="business_desc" placeholder="Опишите основной вид деятельности, продукты или услуги..."></textarea>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Сфера деятельности <span class="required">*</span></label>
                    <select name="industry">
                        <option value="">Выберите отрасль</option>
                        <option value="ecommerce">Интернет-торговля</option>
                        <option value="services">Услуги (B2C)</option>
                        <option value="b2b">B2B / Промышленность</option>
                        <option value="it">IT / SaaS</option>
                        <option value="medical">Медицина / Фарма</option>
                        <option value="education">Образование</option>
                        <option value="realestate">Недвижимость</option>
                        <option value="food">HoReCa / Еда</option>
                        <option value="finance">Финансы / Страхование</option>
                        <option value="construction">Строительство / Ремонт</option>
                        <option value="beauty">Красота / Здоровье</option>
                        <option value="auto">Авто</option>
                        <option value="travel">Туризм / Путешествия</option>
                        <option value="government">Госсектор</option>
                        <option value="other">Другое</option>
                    </select>
                </div>
                <div class="field">
                    <label>Сколько лет на рынке?</label>
                    <select name="years">
                        <option value="">Выберите</option>
                        <option value="new">Стартап / ещё не запустились</option>
                        <option value="1-3">1-3 года</option>
                        <option value="3-10">3-10 лет</option>
                        <option value="10+">Более 10 лет</option>
                    </select>
                </div>
            </div>

            <div class="field">
                <label>География работы <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="geo_city" name="geo" value="city">
                        <label for="geo_city">Один город</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="geo_region" name="geo" value="region">
                        <label for="geo_region">Регион</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="geo_russia" name="geo" value="russia">
                        <label for="geo_russia">Вся Россия</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="geo_cis" name="geo" value="cis">
                        <label for="geo_cis">СНГ</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="geo_world" name="geo" value="world">
                        <label for="geo_world">Весь мир</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Чем вы отличаетесь от конкурентов? (ваше УТП)</label>
                <textarea name="utp" placeholder="Что выделяет вас на фоне конкурентов? Почему клиенты выбирают именно вас?"></textarea>
            </div>

            <div class="field">
                <label>Сайты конкурентов</label>
                <div class="url-group" id="competitorUrls">
                    <div class="url-row">
                        <input type="url" placeholder="https://competitor1.ru">
                    </div>
                    <div class="url-row">
                        <input type="url" placeholder="https://competitor2.ru">
                    </div>
                    <div class="url-row">
                        <input type="url" placeholder="https://competitor3.ru">
                    </div>
                </div>
                <button class="btn-add" onclick="addUrlField('competitorUrls')" style="margin-top: 8px;">+ Добавить ещё</button>
            </div>

            <div class="field">
                <label>Текущий сайт <span class="optional">если есть</span></label>
                <input type="url" name="current_site" placeholder="https://yoursite.ru">
            </div>

            <div class="field">
                <label>Что не устраивает в текущем сайте?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="prob_design" name="problems" value="design">
                        <label for="prob_design">Устаревший дизайн</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_mobile" name="problems" value="mobile">
                        <label for="prob_mobile">Не адаптивный</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_speed" name="problems" value="speed">
                        <label for="prob_speed">Медленный</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_seo" name="problems" value="seo">
                        <label for="prob_seo">Плохо в поиске</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_edit" name="problems" value="edit">
                        <label for="prob_edit">Сложно редактировать</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_conv" name="problems" value="conversion">
                        <label for="prob_conv">Мало заявок</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="prob_none" name="problems" value="none">
                        <label for="prob_none">Сайта нет</label>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step2">
            <div class="section-header">
                <div class="num">Шаг 3 из 8</div>
                <h2>Целевая аудитория</h2>
                <p>Для кого делаем сайт — это определит дизайн, структуру и тон</p>
            </div>

            <div class="field">
                <label>Тип клиентов <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="b2c" name="client_type" value="b2c">
                        <label for="b2c">B2C (физлица)</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="b2b" name="client_type" value="b2b">
                        <label for="b2b">B2B (компании)</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="both_type" name="client_type" value="both">
                        <label for="both_type">Оба типа</label>
                    </div>
                </div>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Возраст аудитории</label>
                    <div class="check-group">
                        <div class="check-item">
                            <input type="checkbox" id="age_18" name="age" value="18-25">
                            <label for="age_18">18-25</label>
                        </div>
                        <div class="check-item">
                            <input type="checkbox" id="age_25" name="age" value="25-35">
                            <label for="age_25">25-35</label>
                        </div>
                        <div class="check-item">
                            <input type="checkbox" id="age_35" name="age" value="35-50">
                            <label for="age_35">35-50</label>
                        </div>
                        <div class="check-item">
                            <input type="checkbox" id="age_50" name="age" value="50+">
                            <label for="age_50">50+</label>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Уровень дохода</label>
                    <select name="income">
                        <option value="">Выберите</option>
                        <option value="low">Эконом-сегмент</option>
                        <option value="mid">Средний</option>
                        <option value="high">Выше среднего</option>
                        <option value="premium">Премиум</option>
                        <option value="mixed">Смешанный</option>
                    </select>
                </div>
            </div>

            <div class="field">
                <label>Откуда сейчас приходят клиенты?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="src_search" name="source" value="search">
                        <label for="src_search">Поиск (Яндекс/Google)</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="src_social" name="source" value="social">
                        <label for="src_social">Соцсети</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="src_ads" name="source" value="ads">
                        <label for="src_ads">Реклама</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="src_word" name="source" value="word">
                        <label for="src_word">Сарафанное радио</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="src_offline" name="source" value="offline">
                        <label for="src_offline">Офлайн</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="src_market" name="source" value="marketplace">
                        <label for="src_market">Маркетплейсы</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>С каких устройств заходят на сайт?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="dev_mobile" name="device" value="mobile">
                        <label for="dev_mobile">В основном телефон</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="dev_desktop" name="device" value="desktop">
                        <label for="dev_desktop">В основном десктоп</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="dev_equal" name="device" value="equal">
                        <label for="dev_equal">Примерно поровну</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="dev_unknown" name="device" value="unknown">
                        <label for="dev_unknown">Не знаю</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Какие боли / возражения у клиентов перед покупкой?</label>
                <textarea name="pains" placeholder="Что останавливает клиентов? Какие вопросы задают чаще всего? Какие сомнения?"></textarea>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step3">
            <div class="section-header">
                <div class="num">Шаг 4 из 8</div>
                <h2>Цели и задачи сайта</h2>
                <p>Что сайт должен делать для вашего бизнеса</p>
            </div>

            <div class="field">
                <label>Главная цель сайта <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="goal_leads" name="main_goal" value="leads">
                        <label for="goal_leads">Сбор заявок / лидогенерация</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="goal_sales" name="main_goal" value="sales">
                        <label for="goal_sales">Онлайн-продажи</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="goal_image" name="main_goal" value="image">
                        <label for="goal_image">Имидж / представительство</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="goal_info" name="main_goal" value="info">
                        <label for="goal_info">Информирование</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Целевое действие пользователя на сайте <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="act_form" name="action" value="form">
                        <label for="act_form">Оставить заявку</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="act_call" name="action" value="call">
                        <label for="act_call">Позвонить</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="act_buy" name="action" value="buy">
                        <label for="act_buy">Купить онлайн</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="act_reg" name="action" value="register">
                        <label for="act_reg">Зарегистрироваться</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="act_chat" name="action" value="chat">
                        <label for="act_chat">Написать в чат</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="act_download" name="action" value="download">
                        <label for="act_download">Скачать материал</label>
                    </div>
                </div>
            </div>

            <div class="fields-row">
                <div class="field">
                    <label>Сколько заявок/продаж в месяц хотите с сайта?</label>
                    <input type="text" name="target_leads" placeholder="Например: 50 заявок или 200 заказов">
                </div>
                <div class="field">
                    <label>Средний чек / стоимость услуги</label>
                    <input type="text" name="avg_check" placeholder="Например: 15 000 ₽">
                </div>
            </div>

            <div class="field">
                <label>Планируете ли продвижение после запуска?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="promo_seo" name="promo" value="seo">
                        <label for="promo_seo">SEO</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="promo_context" name="promo" value="context">
                        <label for="promo_context">Яндекс.Директ</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="promo_social" name="promo" value="social">
                        <label for="promo_social">Соцсети / SMM</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="promo_no" name="promo" value="none">
                        <label for="promo_no">Пока не планирую</label>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step4">
            <div class="section-header">
                <div class="num">Шаг 5 из 8</div>
                <h2>Функциональность</h2>
                <p>Какие возможности должны быть в проекте</p>
            </div>

            <div class="field">
                <label>Тип проекта <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="type_landing" name="site_type" value="landing">
                        <label for="type_landing">Лендинг (1 страница)</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="type_corp" name="site_type" value="corporate">
                        <label for="type_corp">Корпоративный сайт</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="type_shop" name="site_type" value="shop">
                        <label for="type_shop">Интернет-магазин</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="type_portal" name="site_type" value="portal">
                        <label for="type_portal">Портал / Сервис</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="type_mobile" name="site_type" value="mobile_app">
                        <label for="type_mobile">Мобильное приложение</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="type_bot" name="site_type" value="bot">
                        <label for="type_bot">Telegram / чат-бот</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Какие разделы нужны?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="sec_about" name="sections" value="about">
                        <label for="sec_about">О компании</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_services" name="sections" value="services">
                        <label for="sec_services">Услуги / Продукция</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_catalog" name="sections" value="catalog">
                        <label for="sec_catalog">Каталог</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_portfolio" name="sections" value="portfolio">
                        <label for="sec_portfolio">Портфолио / Кейсы</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_blog" name="sections" value="blog">
                        <label for="sec_blog">Блог / Новости</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_contacts" name="sections" value="contacts">
                        <label for="sec_contacts">Контакты</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_faq" name="sections" value="faq">
                        <label for="sec_faq">FAQ</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="sec_reviews" name="sections" value="reviews">
                        <label for="sec_reviews">Отзывы</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Нужные функции</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="fn_cart" name="features" value="cart">
                        <label for="fn_cart">Корзина / оплата</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_account" name="features" value="account">
                        <label for="fn_account">Личный кабинет</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_calc" name="features" value="calculator">
                        <label for="fn_calc">Калькулятор</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_chat" name="features" value="chatbot">
                        <label for="fn_chat">Чат-бот / AI-ассистент</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_filter" name="features" value="filter">
                        <label for="fn_filter">Фильтры / поиск</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_map" name="features" value="map">
                        <label for="fn_map">Карта</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_multilang" name="features" value="multilang">
                        <label for="fn_multilang">Мультиязычность</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="fn_booking" name="features" value="booking">
                        <label for="fn_booking">Бронирование / запись</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Интеграции</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="int_crm" name="integrations" value="crm">
                        <label for="int_crm">CRM (Битрикс24 / AmoCRM)</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_1c" name="integrations" value="1c">
                        <label for="int_1c">1С Бухгалтерия</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_pay" name="integrations" value="payment">
                        <label for="int_pay">Онлайн-оплата</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_delivery" name="integrations" value="delivery">
                        <label for="int_delivery">Доставка (СДЭК / ПЭК)</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_phone" name="integrations" value="telephony">
                        <label for="int_phone">Телефония</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_analytics" name="integrations" value="analytics">
                        <label for="int_analytics">Аналитика (Метрика)</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="int_email" name="integrations" value="email">
                        <label for="int_email">Email-рассылки</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Количество товаров / услуг в каталоге <span class="optional">если применимо</span></label>
                <select name="catalog_size">
                    <option value="">Выберите</option>
                    <option value="0">Нет каталога</option>
                    <option value="1-50">До 50</option>
                    <option value="50-500">50-500</option>
                    <option value="500-5000">500-5 000</option>
                    <option value="5000+">Более 5 000</option>
                </select>
            </div>

            <div class="field">
                <label>Предпочтения по платформе / CMS</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="cms_bitrix" name="cms" value="bitrix">
                        <label for="cms_bitrix">1С-Битрикс</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="cms_tilda" name="cms" value="tilda">
                        <label for="cms_tilda">Tilda</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="cms_wp" name="cms" value="wordpress">
                        <label for="cms_wp">WordPress</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="cms_custom" name="cms" value="custom">
                        <label for="cms_custom">Кастомная разработка</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="cms_any" name="cms" value="any">
                        <label for="cms_any">На ваше усмотрение</label>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step5">
            <div class="section-header">
                <div class="num">Шаг 6 из 8</div>
                <h2>Дизайн и визуал</h2>
                <p>Какое впечатление должен производить сайт</p>
            </div>

            <div class="field">
                <label>Есть ли фирменный стиль / брендбук?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="brand_full" name="brand" value="full">
                        <label for="brand_full">Да, полный брендбук</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="brand_logo" name="brand" value="logo">
                        <label for="brand_logo">Только логотип и цвета</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="brand_no" name="brand" value="none">
                        <label for="brand_no">Нет, нужно разработать</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Какой стиль вам ближе? <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="style_minimal" name="style" value="minimal">
                        <label for="style_minimal">Минимализм</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="style_corporate" name="style" value="corporate">
                        <label for="style_corporate">Деловой / строгий</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="style_modern" name="style" value="modern">
                        <label for="style_modern">Современный / яркий</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="style_premium" name="style" value="premium">
                        <label for="style_premium">Премиальный</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="style_creative" name="style" value="creative">
                        <label for="style_creative">Креативный / нестандартный</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Сайты, которые нравятся (покажите 2-5 примеров)</label>
                <div class="url-group" id="likeUrls">
                    <div class="url-row">
                        <input type="url" placeholder="https://example.com">
                    </div>
                    <div class="url-row">
                        <input type="url" placeholder="https://example2.com">
                    </div>
                </div>
                <button class="btn-add" onclick="addUrlField('likeUrls')" style="margin-top: 8px;">+ Добавить ещё</button>
            </div>

            <div class="field">
                <label>Что именно нравится в этих сайтах?</label>
                <textarea name="like_why" placeholder="Дизайн, анимации, структура, подача информации..."></textarea>
            </div>

            <div class="field">
                <label>Сайты, которые НЕ нравятся <span class="optional">необязательно</span></label>
                <div class="url-group" id="dislikeUrls">
                    <div class="url-row">
                        <input type="url" placeholder="https://bad-example.com">
                    </div>
                </div>
                <button class="btn-add" onclick="addUrlField('dislikeUrls')" style="margin-top: 8px;">+ Добавить ещё</button>
            </div>

            <div class="field">
                <label>Что не нравится?</label>
                <textarea name="dislike_why" placeholder="Что раздражает или отталкивает в этих сайтах?"></textarea>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step6">
            <div class="section-header">
                <div class="num">Шаг 7 из 8</div>
                <h2>Контент</h2>
                <p>Тексты, фото, видео — что есть и что нужно создать</p>
            </div>

            <div class="field">
                <label>Кто будет готовить тексты для сайта? <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="txt_us" name="texts" value="client">
                        <label for="txt_us">Мы сами предоставим</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="txt_you" name="texts" value="studio">
                        <label for="txt_you">Поручим студии</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="txt_together" name="texts" value="together">
                        <label for="txt_together">Совместно</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Есть ли готовые материалы?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="checkbox" id="mat_photo" name="materials" value="photo">
                        <label for="mat_photo">Фото продукции</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="mat_team" name="materials" value="team_photo">
                        <label for="mat_team">Фото команды</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="mat_video" name="materials" value="video">
                        <label for="mat_video">Видео</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="mat_texts" name="materials" value="texts">
                        <label for="mat_texts">Готовые тексты</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="mat_catalog" name="materials" value="catalog_data">
                        <label for="mat_catalog">Данные каталога (Excel/1С)</label>
                    </div>
                    <div class="check-item">
                        <input type="checkbox" id="mat_none" name="materials" value="none">
                        <label for="mat_none">Ничего нет</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Кто будет обновлять сайт после запуска?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="upd_client" name="updater" value="client">
                        <label for="upd_client">Наш сотрудник</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="upd_studio" name="updater" value="studio">
                        <label for="upd_studio">Студия (поддержка)</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="upd_both" name="updater" value="both">
                        <label for="upd_both">Совместно</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Нужна ли фото/видеосъёмка?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="shoot_yes" name="photoshoot" value="yes">
                        <label for="shoot_yes">Да, нужна</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="shoot_no" name="photoshoot" value="no">
                        <label for="shoot_no">Нет, есть свои материалы</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="shoot_stock" name="photoshoot" value="stock">
                        <label for="shoot_stock">Используйте стоковые фото</label>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-primary" onclick="nextStep()">Далее</button>
            </div>
        </div>

        <div class="brief-section" id="step7">
            <div class="section-header">
                <div class="num">Шаг 8 из 8</div>
                <h2>Бюджет и сроки</h2>
                <p>Поможет подобрать оптимальное решение под ваши возможности</p>
            </div>

            <div class="field">
                <label>Бюджет на разработку сайта <span class="required">*</span></label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="bud_50" name="budget" value="50-150k">
                        <label for="bud_50">50 000 - 150 000 ₽</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="bud_150" name="budget" value="150-500k">
                        <label for="bud_150">150 000 - 500 000 ₽</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="bud_500" name="budget" value="500k-1.5m">
                        <label for="bud_500">500 000 - 1 500 000 ₽</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="bud_1500" name="budget" value="1.5m+">
                        <label for="bud_1500">Более 1 500 000 ₽</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="bud_discuss" name="budget" value="discuss">
                        <label for="bud_discuss">Обсудим после оценки</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Желаемые сроки запуска</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="time_asap" name="timeline" value="asap">
                        <label for="time_asap">Как можно скорее</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="time_1m" name="timeline" value="1month">
                        <label for="time_1m">1 месяц</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="time_2m" name="timeline" value="2-3months">
                        <label for="time_2m">2-3 месяца</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="time_flex" name="timeline" value="flexible">
                        <label for="time_flex">Без жёстких сроков</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Есть ли жёсткий дедлайн? <span class="optional">если да — укажите дату и причину</span></label>
                <input type="text" name="deadline" placeholder="Например: 1 сентября — к началу сезона">
            </div>

            <div class="field">
                <label>Удобная форма оплаты</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="pay_stages" name="payment" value="stages">
                        <label for="pay_stages">Поэтапно (50/25/25)</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="pay_monthly" name="payment" value="monthly">
                        <label for="pay_monthly">Ежемесячно</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="pay_full" name="payment" value="full">
                        <label for="pay_full">100% предоплата</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="pay_discuss" name="payment" value="discuss">
                        <label for="pay_discuss">Обсудим</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Нужна ли ежемесячная поддержка после запуска?</label>
                <div class="check-group">
                    <div class="check-item">
                        <input type="radio" id="sup_yes" name="support" value="yes">
                        <label for="sup_yes">Да</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="sup_maybe" name="support" value="maybe">
                        <label for="sup_maybe">Возможно</label>
                    </div>
                    <div class="check-item">
                        <input type="radio" id="sup_no" name="support" value="no">
                        <label for="sup_no">Нет, справимся сами</label>
                    </div>
                </div>
            </div>

            <div class="field">
                <label>Дополнительные комментарии <span class="optional">необязательно</span></label>
                <textarea name="comments" placeholder="Что ещё важно учесть? Любые пожелания или вопросы..."></textarea>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="prevStep()">Назад</button>
                <button class="btn btn-success" onclick="showResults()">Сформировать сводку</button>
            </div>
        </div>

        <div class="brief-section" id="results">
            <div class="section-header">
                <div class="num">Итоги</div>
                <h2>Сводка по брифу</h2>
                <p>Проверьте данные и отправьте нам</p>
            </div>

            <div id="resultsContent"></div>

            <div id="warningsBlock" class="warnings"></div>

            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="goToStep(0)">Редактировать</button>
                <button class="btn btn-primary" onclick="printBrief()">Распечатать / PDF</button>
            </div>
        </div>

    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 8;

        function goToStep(n) {
            document.querySelectorAll('.brief-section').forEach(s => s.classList.remove('active'));
            document.getElementById('step' + n).classList.add('active');
            currentStep = n;
            updateNav();
            window.scrollTo({ top: 200, behavior: 'smooth' });
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                goToStep(currentStep + 1);
                markCompleted(currentStep - 1);
            }
        }

        function prevStep() {
            if (currentStep > 0) goToStep(currentStep - 1);
        }

        function updateNav() {
            const btns = document.querySelectorAll('.step-btn');
            btns.forEach((btn, i) => {
                btn.classList.remove('active');
                if (i === currentStep) btn.classList.add('active');
            });
            updateProgress();
        }

        function markCompleted(stepIndex) {
            const btns = document.querySelectorAll('.step-btn');
            if (btns[stepIndex]) btns[stepIndex].classList.add('completed');
        }

        function updateProgress() {
            const filled = countFilledFields();
            const total = document.querySelectorAll('input:not([type=hidden]), select, textarea').length;
            const pct = Math.min(Math.round((filled / total) * 100), 100);
            document.getElementById('progressFill').style.width = pct + '%';
            document.getElementById('progressText').textContent = pct + '%';
        }

        function countFilledFields() {
            let count = 0;
            document.querySelectorAll('input[type=text], input[type=email], input[type=tel], input[type=url], input[type=number]').forEach(el => {
                if (el.value.trim()) count++;
            });
            document.querySelectorAll('select').forEach(el => {
                if (el.value) count++;
            });
            document.querySelectorAll('textarea').forEach(el => {
                if (el.value.trim()) count++;
            });
            document.querySelectorAll('input[type=radio]:checked, input[type=checkbox]:checked').forEach(() => count++);
            return count;
        }

        document.addEventListener('input', updateProgress);
        document.addEventListener('change', updateProgress);

        function addUrlField(containerId) {
            const container = document.getElementById(containerId);
            const row = document.createElement('div');
            row.className = 'url-row';
            row.innerHTML = '<input type="url" placeholder="https://...">' +
                '<button class="btn-remove" onclick="this.parentElement.remove()">&times;</button>';
            container.appendChild(row);
        }

        function getVal(name) {
            const el = document.querySelector(`[name="${name}"]`);
            if (!el) return '';
            if (el.type === 'radio') {
                const checked = document.querySelector(`[name="${name}"]:checked`);
                return checked ? checked.parentElement.querySelector('label').textContent : '—';
            }
            return el.value || '—';
        }

        function getChecked(name) {
            const items = document.querySelectorAll(`[name="${name}"]:checked`);
            if (items.length === 0) return '—';
            return Array.from(items).map(el => el.parentElement.querySelector('label').textContent).join(', ');
        }

        function getUrls(containerId) {
            const inputs = document.querySelectorAll(`#${containerId} input`);
            const urls = Array.from(inputs).map(i => i.value.trim()).filter(Boolean);
            return urls.length ? urls.join(', ') : '—';
        }

        function showResults() {
            document.querySelectorAll('.brief-section').forEach(s => s.classList.remove('active'));
            document.getElementById('results').classList.add('active');
            markCompleted(totalSteps - 1);

            const sections = [
                { title: 'Контактная информация', rows: [
                    ['Имя', getVal('name')],
                    ['Компания', getVal('company')],
                    ['Должность', getVal('position')],
                    ['Телефон', getVal('phone')],
                    ['Email', getVal('email')],
                    ['Telegram', getVal('telegram')],
                    ['ЛПР', getVal('decision_maker')],
                ]},
                { title: 'О бизнесе', rows: [
                    ['Описание', getVal('business_desc')],
                    ['Отрасль', getVal('industry')],
                    ['Лет на рынке', getVal('years')],
                    ['География', getChecked('geo')],
                    ['УТП', getVal('utp')],
                    ['Конкуренты', getUrls('competitorUrls')],
                    ['Текущий сайт', getVal('current_site')],
                    ['Проблемы', getChecked('problems')],
                ]},
                { title: 'Целевая аудитория', rows: [
                    ['Тип клиентов', getChecked('client_type')],
                    ['Возраст', getChecked('age')],
                    ['Доход', getVal('income')],
                    ['Источники трафика', getChecked('source')],
                    ['Устройства', getChecked('device')],
                    ['Боли клиентов', getVal('pains')],
                ]},
                { title: 'Цели', rows: [
                    ['Главная цель', getChecked('main_goal')],
                    ['Целевое действие', getChecked('action')],
                    ['План заявок', getVal('target_leads')],
                    ['Средний чек', getVal('avg_check')],
                    ['Продвижение', getChecked('promo')],
                ]},
                { title: 'Функциональность', rows: [
                    ['Тип сайта', getChecked('site_type')],
                    ['Разделы', getChecked('sections')],
                    ['Функции', getChecked('features')],
                    ['Интеграции', getChecked('integrations')],
                    ['Размер каталога', getVal('catalog_size')],
                    ['Платформа / CMS', getChecked('cms')],
                ]},
                { title: 'Дизайн', rows: [
                    ['Фирменный стиль', getChecked('brand')],
                    ['Стиль дизайна', getChecked('style')],
                    ['Нравятся', getUrls('likeUrls')],
                    ['Что нравится', getVal('like_why')],
                    ['Не нравятся', getUrls('dislikeUrls')],
                    ['Что не нравится', getVal('dislike_why')],
                ]},
                { title: 'Контент', rows: [
                    ['Тексты', getChecked('texts')],
                    ['Готовые материалы', getChecked('materials')],
                    ['Обновление', getChecked('updater')],
                    ['Фотосъёмка', getChecked('photoshoot')],
                ]},
                { title: 'Бюджет и сроки', rows: [
                    ['Бюджет', getChecked('budget')],
                    ['Сроки', getChecked('timeline')],
                    ['Дедлайн', getVal('deadline')],
                    ['Оплата', getChecked('payment')],
                    ['Поддержка', getChecked('support')],
                    ['Комментарии', getVal('comments')],
                ]},
            ];

            let html = '';
            sections.forEach(sec => {
                html += `<div class="result-card"><h3>${sec.title}</h3>`;
                sec.rows.forEach(([label, value]) => {
                    html += `<div class="result-row"><span class="result-label">${label}</span><span class="result-value">${value}</span></div>`;
                });
                html += '</div>';
            });

            document.getElementById('resultsContent').innerHTML = html;

            let warnings = [];
            let tips = [];

            if (!getVal('name') || getVal('name') === '—') warnings.push('Не указано имя контактного лица');
            if (!getVal('phone') || getVal('phone') === '—') warnings.push('Не указан телефон');
            if (getChecked('main_goal') === '—') warnings.push('Не выбрана главная цель сайта — сложно оценить проект');
            if (getChecked('action') === '—') warnings.push('Не указано целевое действие пользователя');
            if (getChecked('budget') === '—') warnings.push('Не указан бюджет — невозможно подобрать решение');
            if (getChecked('budget') === '50 000 - 150 000 ₽' && getChecked('site_type') === 'Интернет-магазин')
                warnings.push('Бюджет 50-150K может быть недостаточен для интернет-магазина');
            if (getChecked('features').includes('Личный кабинет') && getChecked('budget') === '50 000 - 150 000 ₽')
                warnings.push('Личный кабинет при бюджете до 150K — потребуется компромисс по функционалу');
            if (getChecked('timeline') === 'Как можно скорее' && getChecked('site_type') === 'Портал / Сервис')
                warnings.push('Портал/сервис «как можно скорее» — сроки требуют уточнения');
            if (getChecked('materials') === 'Ничего нет' && getChecked('texts') === 'Мы сами предоставим')
                warnings.push('Контент не готов, но клиент планирует предоставить сам — уточнить сроки');

            if (getChecked('support') === 'Да') tips.push('Клиент заинтересован в постоянной поддержке — потенциал для долгосрочного контракта');
            if (getChecked('features').includes('Чат-бот / AI-ассистент')) tips.push('Запрос на AI-интеграцию — предложить расширенное решение');
            if (getChecked('promo').includes('SEO')) tips.push('Клиент планирует SEO — учесть техтребования при разработке');

            let warnHtml = '';
            warnings.forEach(w => {
                warnHtml += `<div class="warning-item"><span class="warning-icon">!</span><span>${w}</span></div>`;
            });
            tips.forEach(t => {
                warnHtml += `<div class="tip-item"><span class="tip-icon">+</span><span>${t}</span></div>`;
            });

            document.getElementById('warningsBlock').innerHTML = warnHtml;

            window.scrollTo({ top: 200, behavior: 'smooth' });
        }

        function printBrief() {
            window.print();
        }
    </script>

</body>
</html>
